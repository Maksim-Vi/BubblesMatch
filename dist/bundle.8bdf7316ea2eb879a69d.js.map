{"version":3,"file":"bundle.8bdf7316ea2eb879a69d.js","mappings":"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","sources":["webpack://tech_1/./node_modules/pixi.js/lib/dom/CanvasObserver.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/FederatedEvent.mjs","webpack://tech_1/./node_modules/pixi.js/lib/accessibility/AccessibilitySystem.mjs","webpack://tech_1/./node_modules/pixi.js/lib/accessibility/init.mjs","webpack://tech_1/./node_modules/pixi.js/lib/accessibility/accessibilityTarget.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/EventTicker.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/FederatedMouseEvent.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/FederatedPointerEvent.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/FederatedWheelEvent.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/EventBoundary.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/EventSystem.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/FederatedEventTarget.mjs","webpack://tech_1/./node_modules/pixi.js/lib/events/init.mjs","webpack://tech_1/./node_modules/pixi.js/lib/dom/DOMPipe.mjs","webpack://tech_1/./node_modules/pixi.js/lib/dom/init.mjs"],"sourcesContent":["import { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nclass CanvasObserver {\n  constructor(options) {\n    /** A cached value of the last transform applied to the DOM element. */\n    this._lastTransform = \"\";\n    /** A ResizeObserver instance to observe changes in the canvas size. */\n    this._observer = null;\n    /** A flag to indicate whether the observer is attached to the Ticker for continuous updates. */\n    this._tickerAttached = false;\n    /**\n     * Updates the transform of the DOM element based on the canvas size and position.\n     * This method calculates the scale and translation needed to keep the DOM element in sync with the canvas.\n     */\n    this.updateTranslation = () => {\n      if (!this._canvas)\n        return;\n      const rect = this._canvas.getBoundingClientRect();\n      const contentWidth = this._canvas.width;\n      const contentHeight = this._canvas.height;\n      const sx = rect.width / contentWidth * this._renderer.resolution;\n      const sy = rect.height / contentHeight * this._renderer.resolution;\n      const tx = rect.left;\n      const ty = rect.top;\n      const newTransform = `translate(${tx}px, ${ty}px) scale(${sx}, ${sy})`;\n      if (newTransform !== this._lastTransform) {\n        this._domElement.style.transform = newTransform;\n        this._lastTransform = newTransform;\n      }\n    };\n    this._domElement = options.domElement;\n    this._renderer = options.renderer;\n    if (globalThis.OffscreenCanvas && this._renderer.canvas instanceof OffscreenCanvas)\n      return;\n    this._canvas = this._renderer.canvas;\n    this._attachObserver();\n  }\n  /** The canvas element that this CanvasObserver is associated with. */\n  get canvas() {\n    return this._canvas;\n  }\n  /** Attaches the DOM element to the canvas parent if it is not already attached. */\n  ensureAttached() {\n    if (!this._domElement.parentNode && this._canvas.parentNode) {\n      this._canvas.parentNode.appendChild(this._domElement);\n      this.updateTranslation();\n    }\n  }\n  /** Sets up a ResizeObserver if available. This ensures that the DOM element is kept in sync with the canvas size . */\n  _attachObserver() {\n    if (\"ResizeObserver\" in globalThis) {\n      if (this._observer) {\n        this._observer.disconnect();\n        this._observer = null;\n      }\n      this._observer = new ResizeObserver((entries) => {\n        for (const entry of entries) {\n          if (entry.target !== this._canvas) {\n            continue;\n          }\n          const contentWidth = this.canvas.width;\n          const contentHeight = this.canvas.height;\n          const sx = entry.contentRect.width / contentWidth * this._renderer.resolution;\n          const sy = entry.contentRect.height / contentHeight * this._renderer.resolution;\n          const needsUpdate = this._lastScaleX !== sx || this._lastScaleY !== sy;\n          if (needsUpdate) {\n            this.updateTranslation();\n            this._lastScaleX = sx;\n            this._lastScaleY = sy;\n          }\n        }\n      });\n      this._observer.observe(this._canvas);\n    } else if (!this._tickerAttached) {\n      Ticker.shared.add(this.updateTranslation, this, UPDATE_PRIORITY.HIGH);\n    }\n  }\n  /** Destroys the CanvasObserver instance, cleaning up observers and Ticker. */\n  destroy() {\n    if (this._observer) {\n      this._observer.disconnect();\n      this._observer = null;\n    } else if (this._tickerAttached) {\n      Ticker.shared.remove(this.updateTranslation);\n    }\n    this._domElement = null;\n    this._renderer = null;\n    this._canvas = null;\n    this._tickerAttached = false;\n    this._lastTransform = \"\";\n    this._lastScaleX = null;\n    this._lastScaleY = null;\n  }\n}\n\nexport { CanvasObserver };\n//# sourceMappingURL=CanvasObserver.mjs.map\n","import { Point } from '../maths/point/Point.mjs';\n\n\"use strict\";\nclass FederatedEvent {\n  /**\n   * @param manager - The event boundary which manages this event. Propagation can only occur\n   *  within the boundary's jurisdiction.\n   */\n  constructor(manager) {\n    /** Flags whether this event bubbles. This will take effect only if it is set before propagation. */\n    this.bubbles = true;\n    /** @deprecated since 7.0.0 */\n    this.cancelBubble = true;\n    /**\n     * Flags whether this event can be canceled using {@link FederatedEvent.preventDefault}. This is always\n     * false (for now).\n     */\n    this.cancelable = false;\n    /**\n     * Flag added for compatibility with DOM `Event`. It is not used in the Federated Events\n     * API.\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     * @ignore\n     */\n    this.composed = false;\n    /** Flags whether the default response of the user agent was prevent through this event. */\n    this.defaultPrevented = false;\n    /**\n     * The propagation phase.\n     * @default {@link FederatedEvent.NONE}\n     */\n    this.eventPhase = FederatedEvent.prototype.NONE;\n    /** Flags whether propagation was stopped. */\n    this.propagationStopped = false;\n    /** Flags whether propagation was immediately stopped. */\n    this.propagationImmediatelyStopped = false;\n    /** The coordinates of the event relative to the nearest DOM layer. This is a non-standard property. */\n    this.layer = new Point();\n    /** The coordinates of the event relative to the DOM document. This is a non-standard property. */\n    this.page = new Point();\n    /**\n     * The event propagation phase NONE that indicates that the event is not in any phase.\n     * @default 0\n     * @advanced\n     */\n    this.NONE = 0;\n    /**\n     * The event propagation phase CAPTURING_PHASE that indicates that the event is in the capturing phase.\n     * @default 1\n     * @advanced\n     */\n    this.CAPTURING_PHASE = 1;\n    /**\n     * The event propagation phase AT_TARGET that indicates that the event is at the target.\n     * @default 2\n     * @advanced\n     */\n    this.AT_TARGET = 2;\n    /**\n     * The event propagation phase BUBBLING_PHASE that indicates that the event is in the bubbling phase.\n     * @default 3\n     * @advanced\n     */\n    this.BUBBLING_PHASE = 3;\n    this.manager = manager;\n  }\n  /** @readonly */\n  get layerX() {\n    return this.layer.x;\n  }\n  /** @readonly */\n  get layerY() {\n    return this.layer.y;\n  }\n  /** @readonly */\n  get pageX() {\n    return this.page.x;\n  }\n  /** @readonly */\n  get pageY() {\n    return this.page.y;\n  }\n  /**\n   * Fallback for the deprecated `InteractionEvent.data`.\n   * @deprecated since 7.0.0\n   */\n  get data() {\n    return this;\n  }\n  /**\n   * The propagation path for this event. Alias for {@link EventBoundary.propagationPath}.\n   * @advanced\n   */\n  composedPath() {\n    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {\n      this.path = this.target ? this.manager.propagationPath(this.target) : [];\n    }\n    return this.path;\n  }\n  /**\n   * Unimplemented method included for implementing the DOM interface `Event`. It will throw an `Error`.\n   * @deprecated\n   * @ignore\n   * @param _type\n   * @param _bubbles\n   * @param _cancelable\n   */\n  initEvent(_type, _bubbles, _cancelable) {\n    throw new Error(\"initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  /**\n   * Unimplemented method included for implementing the DOM interface `UIEvent`. It will throw an `Error`.\n   * @ignore\n   * @deprecated\n   * @param _typeArg\n   * @param _bubblesArg\n   * @param _cancelableArg\n   * @param _viewArg\n   * @param _detailArg\n   */\n  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {\n    throw new Error(\"initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  /**\n   * Prevent default behavior of both PixiJS and the user agent.\n   * @example\n   * ```ts\n   * sprite.on('click', (event) => {\n   *     // Prevent both browser's default click behavior\n   *     // and PixiJS's default handling\n   *     event.preventDefault();\n   *\n   *     // Custom handling\n   *     customClickHandler();\n   * });\n   * ```\n   * @remarks\n   * - Only works if the native event is cancelable\n   * - Does not stop event propagation\n   */\n  preventDefault() {\n    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {\n      this.nativeEvent.preventDefault();\n    }\n    this.defaultPrevented = true;\n  }\n  /**\n   * Stop this event from propagating to any additional listeners, including those\n   * on the current target and any following targets in the propagation path.\n   * @example\n   * ```ts\n   * container.on('pointerdown', (event) => {\n   *     // Stop all further event handling\n   *     event.stopImmediatePropagation();\n   *\n   *     // These handlers won't be called:\n   *     // - Other pointerdown listeners on this container\n   *     // - Any pointerdown listeners on parent containers\n   * });\n   * ```\n   * @remarks\n   * - Immediately stops all event propagation\n   * - Prevents other listeners on same target from being called\n   * - More aggressive than stopPropagation()\n   */\n  stopImmediatePropagation() {\n    this.propagationImmediatelyStopped = true;\n  }\n  /**\n   * Stop this event from propagating to the next target in the propagation path.\n   * The rest of the listeners on the current target will still be notified.\n   * @example\n   * ```ts\n   * child.on('pointermove', (event) => {\n   *     // Handle event on child\n   *     updateChild();\n   *\n   *     // Prevent parent handlers from being called\n   *     event.stopPropagation();\n   * });\n   *\n   * // This won't be called if child handles the event\n   * parent.on('pointermove', (event) => {\n   *     updateParent();\n   * });\n   * ```\n   * @remarks\n   * - Stops event bubbling to parent containers\n   * - Does not prevent other listeners on same target\n   * - Less aggressive than stopImmediatePropagation()\n   */\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\nexport { FederatedEvent };\n//# sourceMappingURL=FederatedEvent.mjs.map\n","import { CanvasObserver } from '../dom/CanvasObserver.mjs';\nimport { FederatedEvent } from '../events/FederatedEvent.mjs';\nimport { ExtensionType } from '../extensions/Extensions.mjs';\nimport { isMobile } from '../utils/browser/isMobile.mjs';\nimport { removeItems } from '../utils/data/removeItems.mjs';\n\n\"use strict\";\nconst KEY_CODE_TAB = 9;\nconst DIV_TOUCH_SIZE = 100;\nconst DIV_TOUCH_POS_X = 0;\nconst DIV_TOUCH_POS_Y = 0;\nconst DIV_TOUCH_ZINDEX = 2;\nconst DIV_HOOK_SIZE = 1;\nconst DIV_HOOK_POS_X = -1e3;\nconst DIV_HOOK_POS_Y = -1e3;\nconst DIV_HOOK_ZINDEX = 2;\nconst _AccessibilitySystem = class _AccessibilitySystem {\n  // eslint-disable-next-line jsdoc/require-param\n  /**\n   * @param {WebGLRenderer|WebGPURenderer} renderer - A reference to the current renderer\n   */\n  constructor(renderer, _mobileInfo = isMobile) {\n    this._mobileInfo = _mobileInfo;\n    /** Whether accessibility divs are visible for debugging */\n    this.debug = false;\n    /** Whether to activate on tab key press */\n    this._activateOnTab = true;\n    /** Whether to deactivate accessibility when mouse moves */\n    this._deactivateOnMouseMove = true;\n    /** Internal variable, see isActive getter. */\n    this._isActive = false;\n    /** Internal variable, see isMobileAccessibility getter. */\n    this._isMobileAccessibility = false;\n    /** This is the dom element that will sit over the PixiJS element. This is where the div overlays will go. */\n    this._div = null;\n    /** A simple pool for storing divs. */\n    this._pools = {};\n    /** This is a tick used to check if an object is no longer being rendered. */\n    this._renderId = 0;\n    /** The array of currently active accessible items. */\n    this._children = [];\n    /** Count to throttle div updates on android devices. */\n    this._androidUpdateCount = 0;\n    /**  The frequency to update the div elements. */\n    this._androidUpdateFrequency = 500;\n    // eslint-disable-next-line @typescript-eslint/prefer-readonly\n    this._isRunningTests = false;\n    /** Bound function references for proper event listener removal */\n    this._boundOnKeyDown = this._onKeyDown.bind(this);\n    this._boundOnMouseMove = this._onMouseMove.bind(this);\n    this._hookDiv = null;\n    if (_mobileInfo.tablet || _mobileInfo.phone) {\n      this._createTouchHook();\n    }\n    this._renderer = renderer;\n  }\n  /**\n   * Value of `true` if accessibility is currently active and accessibility layers are showing.\n   * @type {boolean}\n   * @readonly\n   */\n  get isActive() {\n    return this._isActive;\n  }\n  /**\n   * Value of `true` if accessibility is enabled for touch devices.\n   * @type {boolean}\n   * @readonly\n   */\n  get isMobileAccessibility() {\n    return this._isMobileAccessibility;\n  }\n  /**\n   * Button element for handling touch hooks.\n   * @readonly\n   */\n  get hookDiv() {\n    return this._hookDiv;\n  }\n  /**\n   * The DOM element that will sit over the PixiJS element. This is where the div overlays will go.\n   * @readonly\n   */\n  get div() {\n    return this._div;\n  }\n  /**\n   * Creates the touch hooks.\n   * @private\n   */\n  _createTouchHook() {\n    const hookDiv = document.createElement(\"button\");\n    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.position = \"absolute\";\n    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;\n    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;\n    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();\n    hookDiv.style.backgroundColor = \"#FF0000\";\n    hookDiv.title = \"select to enable accessibility for this content\";\n    hookDiv.addEventListener(\"focus\", () => {\n      this._isMobileAccessibility = true;\n      this._activate();\n      this._destroyTouchHook();\n    });\n    document.body.appendChild(hookDiv);\n    this._hookDiv = hookDiv;\n  }\n  /**\n   * Destroys the touch hooks.\n   * @private\n   */\n  _destroyTouchHook() {\n    if (!this._hookDiv) {\n      return;\n    }\n    document.body.removeChild(this._hookDiv);\n    this._hookDiv = null;\n  }\n  /**\n   * Activating will cause the Accessibility layer to be shown.\n   * This is called when a user presses the tab key.\n   * @private\n   */\n  _activate() {\n    if (this._isActive) {\n      return;\n    }\n    this._isActive = true;\n    if (!this._div) {\n      this._div = document.createElement(\"div\");\n      this._div.style.position = \"absolute\";\n      this._div.style.top = `${DIV_TOUCH_POS_X}px`;\n      this._div.style.left = `${DIV_TOUCH_POS_Y}px`;\n      this._div.style.pointerEvents = \"none\";\n      this._div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n      this._canvasObserver = new CanvasObserver({\n        domElement: this._div,\n        renderer: this._renderer\n      });\n    }\n    if (this._activateOnTab) {\n      globalThis.addEventListener(\"keydown\", this._boundOnKeyDown, false);\n    }\n    if (this._deactivateOnMouseMove) {\n      globalThis.document.addEventListener(\"mousemove\", this._boundOnMouseMove, true);\n    }\n    const canvas = this._renderer.view.canvas;\n    if (!canvas.parentNode) {\n      const observer = new MutationObserver(() => {\n        if (canvas.parentNode) {\n          observer.disconnect();\n          this._canvasObserver.ensureAttached();\n          this._initAccessibilitySetup();\n        }\n      });\n      observer.observe(document.body, { childList: true, subtree: true });\n    } else {\n      this._canvasObserver.ensureAttached();\n      this._initAccessibilitySetup();\n    }\n  }\n  // New method to handle initialization after div is ready\n  _initAccessibilitySetup() {\n    this._renderer.runners.postrender.add(this);\n    if (this._renderer.lastObjectRendered) {\n      this._updateAccessibleObjects(this._renderer.lastObjectRendered);\n    }\n  }\n  /**\n   * Deactivates the accessibility system. Removes listeners and accessibility elements.\n   * @private\n   */\n  _deactivate() {\n    if (!this._isActive || this._isMobileAccessibility) {\n      return;\n    }\n    this._isActive = false;\n    globalThis.document.removeEventListener(\"mousemove\", this._boundOnMouseMove, true);\n    if (this._activateOnTab) {\n      globalThis.addEventListener(\"keydown\", this._boundOnKeyDown, false);\n    }\n    this._renderer.runners.postrender.remove(this);\n    for (const child of this._children) {\n      if (child._accessibleDiv?.parentNode) {\n        child._accessibleDiv.parentNode.removeChild(child._accessibleDiv);\n        child._accessibleDiv = null;\n      }\n      child._accessibleActive = false;\n    }\n    for (const accessibleType in this._pools) {\n      const pool = this._pools[accessibleType];\n      pool.forEach((div) => {\n        if (div.parentNode) {\n          div.parentNode.removeChild(div);\n        }\n      });\n      delete this._pools[accessibleType];\n    }\n    if (this._div?.parentNode) {\n      this._div.parentNode.removeChild(this._div);\n    }\n    this._pools = {};\n    this._children = [];\n  }\n  /**\n   * This recursive function will run through the scene graph and add any new accessible objects to the DOM layer.\n   * @private\n   * @param {Container} container - The Container to check.\n   */\n  _updateAccessibleObjects(container) {\n    if (!container.visible || !container.accessibleChildren) {\n      return;\n    }\n    if (container.accessible) {\n      if (!container._accessibleActive) {\n        this._addChild(container);\n      }\n      container._renderId = this._renderId;\n    }\n    const children = container.children;\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        this._updateAccessibleObjects(children[i]);\n      }\n    }\n  }\n  /**\n   * Runner init called, view is available at this point.\n   * @ignore\n   */\n  init(options) {\n    const defaultOpts = _AccessibilitySystem.defaultOptions;\n    const mergedOptions = {\n      accessibilityOptions: {\n        ...defaultOpts,\n        ...options?.accessibilityOptions || {}\n      }\n    };\n    this.debug = mergedOptions.accessibilityOptions.debug;\n    this._activateOnTab = mergedOptions.accessibilityOptions.activateOnTab;\n    this._deactivateOnMouseMove = mergedOptions.accessibilityOptions.deactivateOnMouseMove;\n    if (mergedOptions.accessibilityOptions.enabledByDefault) {\n      this._activate();\n    }\n    this._renderer.runners.postrender.remove(this);\n  }\n  /**\n   * Updates the accessibility layer during rendering.\n   * - Removes divs for containers no longer in the scene\n   * - Updates the position and dimensions of the root div\n   * - Updates positions of active accessibility divs\n   * Only fires while the accessibility system is active.\n   * @ignore\n   */\n  postrender() {\n    const now = performance.now();\n    if (this._mobileInfo.android.device && now < this._androidUpdateCount) {\n      return;\n    }\n    this._androidUpdateCount = now + this._androidUpdateFrequency;\n    if ((!this._renderer.renderingToScreen || !this._renderer.view.canvas) && !this._isRunningTests) {\n      return;\n    }\n    const activeIds = /* @__PURE__ */ new Set();\n    if (this._renderer.lastObjectRendered) {\n      this._updateAccessibleObjects(this._renderer.lastObjectRendered);\n      for (const child of this._children) {\n        if (child._renderId === this._renderId) {\n          activeIds.add(this._children.indexOf(child));\n        }\n      }\n    }\n    for (let i = this._children.length - 1; i >= 0; i--) {\n      const child = this._children[i];\n      if (!activeIds.has(i)) {\n        if (child._accessibleDiv && child._accessibleDiv.parentNode) {\n          child._accessibleDiv.parentNode.removeChild(child._accessibleDiv);\n          const pool = this._getPool(child.accessibleType);\n          pool.push(child._accessibleDiv);\n          child._accessibleDiv = null;\n        }\n        child._accessibleActive = false;\n        removeItems(this._children, i, 1);\n      }\n    }\n    if (this._renderer.renderingToScreen) {\n      this._canvasObserver.ensureAttached();\n    }\n    for (let i = 0; i < this._children.length; i++) {\n      const child = this._children[i];\n      if (!child._accessibleActive || !child._accessibleDiv) {\n        continue;\n      }\n      const div = child._accessibleDiv;\n      const hitArea = child.hitArea || child.getBounds().rectangle;\n      if (child.hitArea) {\n        const wt = child.worldTransform;\n        div.style.left = `${wt.tx + hitArea.x * wt.a}px`;\n        div.style.top = `${wt.ty + hitArea.y * wt.d}px`;\n        div.style.width = `${hitArea.width * wt.a}px`;\n        div.style.height = `${hitArea.height * wt.d}px`;\n      } else {\n        this._capHitArea(hitArea);\n        div.style.left = `${hitArea.x}px`;\n        div.style.top = `${hitArea.y}px`;\n        div.style.width = `${hitArea.width}px`;\n        div.style.height = `${hitArea.height}px`;\n      }\n    }\n    this._renderId++;\n  }\n  /**\n   * private function that will visually add the information to the\n   * accessibility div\n   * @param {HTMLElement} div -\n   */\n  _updateDebugHTML(div) {\n    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;\n  }\n  /**\n   * Adjust the hit area based on the bounds of a display object\n   * @param {Rectangle} hitArea - Bounds of the child\n   */\n  _capHitArea(hitArea) {\n    if (hitArea.x < 0) {\n      hitArea.width += hitArea.x;\n      hitArea.x = 0;\n    }\n    if (hitArea.y < 0) {\n      hitArea.height += hitArea.y;\n      hitArea.y = 0;\n    }\n    const { width: viewWidth, height: viewHeight } = this._renderer;\n    if (hitArea.x + hitArea.width > viewWidth) {\n      hitArea.width = viewWidth - hitArea.x;\n    }\n    if (hitArea.y + hitArea.height > viewHeight) {\n      hitArea.height = viewHeight - hitArea.y;\n    }\n  }\n  /**\n   * Creates or reuses a div element for a Container and adds it to the accessibility layer.\n   * Sets up ARIA attributes, event listeners, and positioning based on the container's properties.\n   * @private\n   * @param {Container} container - The child to make accessible.\n   */\n  _addChild(container) {\n    const pool = this._getPool(container.accessibleType);\n    let div = pool.pop();\n    if (div) {\n      div.innerHTML = \"\";\n      div.removeAttribute(\"title\");\n      div.removeAttribute(\"aria-label\");\n      div.tabIndex = 0;\n    } else {\n      if (container.accessibleType === \"button\") {\n        div = document.createElement(\"button\");\n      } else {\n        div = document.createElement(container.accessibleType);\n        div.style.cssText = `\n                        color: transparent;\n                        pointer-events: none;\n                        padding: 0;\n                        margin: 0;\n                        border: 0;\n                        outline: 0;\n                        background: transparent;\n                        box-sizing: border-box;\n                        user-select: none;\n                        -webkit-user-select: none;\n                        -moz-user-select: none;\n                        -ms-user-select: none;\n                    `;\n        if (container.accessibleText) {\n          div.innerText = container.accessibleText;\n        }\n      }\n      div.style.width = `${DIV_TOUCH_SIZE}px`;\n      div.style.height = `${DIV_TOUCH_SIZE}px`;\n      div.style.backgroundColor = this.debug ? \"rgba(255,255,255,0.5)\" : \"transparent\";\n      div.style.position = \"absolute\";\n      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n      div.style.borderStyle = \"none\";\n      if (navigator.userAgent.toLowerCase().includes(\"chrome\")) {\n        div.setAttribute(\"aria-live\", \"off\");\n      } else {\n        div.setAttribute(\"aria-live\", \"polite\");\n      }\n      if (navigator.userAgent.match(/rv:.*Gecko\\//)) {\n        div.setAttribute(\"aria-relevant\", \"additions\");\n      } else {\n        div.setAttribute(\"aria-relevant\", \"text\");\n      }\n      div.addEventListener(\"click\", this._onClick.bind(this));\n      div.addEventListener(\"focus\", this._onFocus.bind(this));\n      div.addEventListener(\"focusout\", this._onFocusOut.bind(this));\n    }\n    div.style.pointerEvents = container.accessiblePointerEvents;\n    div.type = container.accessibleType;\n    if (container.accessibleTitle && container.accessibleTitle !== null) {\n      div.title = container.accessibleTitle;\n    } else if (!container.accessibleHint || container.accessibleHint === null) {\n      div.title = `container ${container.tabIndex}`;\n    }\n    if (container.accessibleHint && container.accessibleHint !== null) {\n      div.setAttribute(\"aria-label\", container.accessibleHint);\n    }\n    if (container.interactive) {\n      div.tabIndex = container.tabIndex;\n    } else {\n      div.tabIndex = 0;\n    }\n    if (this.debug) {\n      this._updateDebugHTML(div);\n    }\n    container._accessibleActive = true;\n    container._accessibleDiv = div;\n    div.container = container;\n    this._children.push(container);\n    this._div.appendChild(container._accessibleDiv);\n  }\n  /**\n   * Dispatch events with the EventSystem.\n   * @param e\n   * @param type\n   * @private\n   */\n  _dispatchEvent(e, type) {\n    const { container: target } = e.target;\n    const boundary = this._renderer.events.rootBoundary;\n    const event = Object.assign(new FederatedEvent(boundary), { target });\n    boundary.rootTarget = this._renderer.lastObjectRendered;\n    type.forEach((type2) => boundary.dispatchEvent(event, type2));\n  }\n  /**\n   * Maps the div button press to pixi's EventSystem (click)\n   * @private\n   * @param {MouseEvent} e - The click event.\n   */\n  _onClick(e) {\n    this._dispatchEvent(e, [\"click\", \"pointertap\", \"tap\"]);\n  }\n  /**\n   * Maps the div focus events to pixi's EventSystem (mouseover)\n   * @private\n   * @param {FocusEvent} e - The focus event.\n   */\n  _onFocus(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"assertive\");\n    }\n    this._dispatchEvent(e, [\"mouseover\"]);\n  }\n  /**\n   * Maps the div focus events to pixi's EventSystem (mouseout)\n   * @private\n   * @param {FocusEvent} e - The focusout event.\n   */\n  _onFocusOut(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"polite\");\n    }\n    this._dispatchEvent(e, [\"mouseout\"]);\n  }\n  /**\n   * Is called when a key is pressed\n   * @private\n   * @param {KeyboardEvent} e - The keydown event.\n   */\n  _onKeyDown(e) {\n    if (e.keyCode !== KEY_CODE_TAB || !this._activateOnTab) {\n      return;\n    }\n    this._activate();\n  }\n  /**\n   * Is called when the mouse moves across the renderer element\n   * @private\n   * @param {MouseEvent} e - The mouse event.\n   */\n  _onMouseMove(e) {\n    if (e.movementX === 0 && e.movementY === 0) {\n      return;\n    }\n    this._deactivate();\n  }\n  /**\n   * Destroys the accessibility system. Removes all elements and listeners.\n   * > [!IMPORTANT] This is typically called automatically when the {@link Application} is destroyed.\n   * > A typically user should not need to call this method directly.\n   */\n  destroy() {\n    this._deactivate();\n    this._destroyTouchHook();\n    this._canvasObserver?.destroy();\n    this._canvasObserver = null;\n    this._div = null;\n    this._pools = null;\n    this._children = null;\n    this._renderer = null;\n    this._hookDiv = null;\n    globalThis.removeEventListener(\"keydown\", this._boundOnKeyDown);\n    this._boundOnKeyDown = null;\n    globalThis.document.removeEventListener(\"mousemove\", this._boundOnMouseMove, true);\n    this._boundOnMouseMove = null;\n  }\n  /**\n   * Enables or disables the accessibility system.\n   * @param enabled - Whether to enable or disable accessibility.\n   * @example\n   * ```js\n   * app.renderer.accessibility.setAccessibilityEnabled(true); // Enable accessibility\n   * app.renderer.accessibility.setAccessibilityEnabled(false); // Disable accessibility\n   * ```\n   */\n  setAccessibilityEnabled(enabled) {\n    if (enabled) {\n      this._activate();\n    } else {\n      this._deactivate();\n    }\n  }\n  _getPool(accessibleType) {\n    if (!this._pools[accessibleType]) {\n      this._pools[accessibleType] = [];\n    }\n    return this._pools[accessibleType];\n  }\n};\n/** @ignore */\n_AccessibilitySystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  name: \"accessibility\"\n};\n/**\n * The default options used by the system.\n * You can set these before initializing the {@link Application} to change the default behavior.\n * @example\n * ```js\n * import { AccessibilitySystem } from 'pixi.js';\n *\n * AccessibilitySystem.defaultOptions.enabledByDefault = true;\n *\n * const app = new Application()\n * app.init()\n * ```\n */\n_AccessibilitySystem.defaultOptions = {\n  /**\n   * Whether to enable accessibility features on initialization\n   * @default false\n   */\n  enabledByDefault: false,\n  /**\n   * Whether to visually show the accessibility divs for debugging\n   * @default false\n   */\n  debug: false,\n  /**\n   * Whether to activate accessibility when tab key is pressed\n   * @default true\n   */\n  activateOnTab: true,\n  /**\n   * Whether to deactivate accessibility when mouse moves\n   * @default true\n   */\n  deactivateOnMouseMove: true\n};\nlet AccessibilitySystem = _AccessibilitySystem;\n\nexport { AccessibilitySystem };\n//# sourceMappingURL=AccessibilitySystem.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { AccessibilitySystem } from './AccessibilitySystem.mjs';\nimport { accessibilityTarget } from './accessibilityTarget.mjs';\n\n\"use strict\";\nextensions.add(AccessibilitySystem);\nextensions.mixin(Container, accessibilityTarget);\n//# sourceMappingURL=init.mjs.map\n","\"use strict\";\nconst accessibilityTarget = {\n  accessible: false,\n  accessibleTitle: null,\n  accessibleHint: null,\n  tabIndex: 0,\n  accessibleType: \"button\",\n  accessibleText: null,\n  accessiblePointerEvents: \"auto\",\n  accessibleChildren: true,\n  _accessibleActive: false,\n  _accessibleDiv: null,\n  _renderId: -1\n};\n\nexport { accessibilityTarget };\n//# sourceMappingURL=accessibilityTarget.mjs.map\n","import { UPDATE_PRIORITY } from '../ticker/const.mjs';\nimport { Ticker } from '../ticker/Ticker.mjs';\n\n\"use strict\";\nclass EventsTickerClass {\n  constructor() {\n    /** The frequency that fake events will be fired. */\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  /**\n   * Initializes the event ticker.\n   * @param events - The event system.\n   */\n  init(events) {\n    this.removeTickerListener();\n    this.events = events;\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  /** Whether to pause the update checks or not. */\n  get pauseUpdate() {\n    return this._pauseUpdate;\n  }\n  set pauseUpdate(paused) {\n    this._pauseUpdate = paused;\n  }\n  /** Adds the ticker listener. */\n  addTickerListener() {\n    if (this._tickerAdded || !this.domElement) {\n      return;\n    }\n    Ticker.system.add(this._tickerUpdate, this, UPDATE_PRIORITY.INTERACTION);\n    this._tickerAdded = true;\n  }\n  /** Removes the ticker listener. */\n  removeTickerListener() {\n    if (!this._tickerAdded) {\n      return;\n    }\n    Ticker.system.remove(this._tickerUpdate, this);\n    this._tickerAdded = false;\n  }\n  /** Sets flag to not fire extra events when the user has already moved there mouse */\n  pointerMoved() {\n    this._didMove = true;\n  }\n  /** Updates the state of interactive objects. */\n  _update() {\n    if (!this.domElement || this._pauseUpdate) {\n      return;\n    }\n    if (this._didMove) {\n      this._didMove = false;\n      return;\n    }\n    const rootPointerEvent = this.events[\"_rootPointerEvent\"];\n    if (this.events.supportsTouchEvents && rootPointerEvent.pointerType === \"touch\") {\n      return;\n    }\n    globalThis.document.dispatchEvent(this.events.supportsPointerEvents ? new PointerEvent(\"pointermove\", {\n      clientX: rootPointerEvent.clientX,\n      clientY: rootPointerEvent.clientY,\n      pointerType: rootPointerEvent.pointerType,\n      pointerId: rootPointerEvent.pointerId\n    }) : new MouseEvent(\"mousemove\", {\n      clientX: rootPointerEvent.clientX,\n      clientY: rootPointerEvent.clientY\n    }));\n  }\n  /**\n   * Updates the state of interactive objects if at least {@link interactionFrequency}\n   * milliseconds have passed since the last invocation.\n   *\n   * Invoked by a throttled ticker update from {@link Ticker.system}.\n   * @param ticker - The throttled ticker.\n   */\n  _tickerUpdate(ticker) {\n    this._deltaTime += ticker.deltaTime;\n    if (this._deltaTime < this.interactionFrequency) {\n      return;\n    }\n    this._deltaTime = 0;\n    this._update();\n  }\n  /** Destroys the event ticker. */\n  destroy() {\n    this.removeTickerListener();\n    this.events = null;\n    this.domElement = null;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this._tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n}\nconst EventsTicker = new EventsTickerClass();\n\nexport { EventsTicker };\n//# sourceMappingURL=EventTicker.mjs.map\n","import { Point } from '../maths/point/Point.mjs';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\n\"use strict\";\nclass FederatedMouseEvent extends FederatedEvent {\n  constructor() {\n    super(...arguments);\n    /** The coordinates of the mouse event relative to the canvas. */\n    this.client = new Point();\n    /** The movement in this pointer relative to the last `mousemove` event. */\n    this.movement = new Point();\n    /** The offset of the pointer coordinates w.r.t. target Container in world space. This is not supported at the moment. */\n    this.offset = new Point();\n    /** The pointer coordinates in world space. */\n    this.global = new Point();\n    /**\n     * The pointer coordinates in the renderer's {@link AbstractRenderer.screen screen}. This has slightly\n     * different semantics than native PointerEvent screenX/screenY.\n     */\n    this.screen = new Point();\n  }\n  /** @readonly */\n  get clientX() {\n    return this.client.x;\n  }\n  /** @readonly */\n  get clientY() {\n    return this.client.y;\n  }\n  /**\n   * Alias for {@link FederatedMouseEvent.clientX this.clientX}.\n   * @readonly\n   */\n  get x() {\n    return this.clientX;\n  }\n  /**\n   * Alias for {@link FederatedMouseEvent.clientY this.clientY}.\n   * @readonly\n   */\n  get y() {\n    return this.clientY;\n  }\n  /** @readonly */\n  get movementX() {\n    return this.movement.x;\n  }\n  /** @readonly */\n  get movementY() {\n    return this.movement.y;\n  }\n  /** @readonly */\n  get offsetX() {\n    return this.offset.x;\n  }\n  /** @readonly */\n  get offsetY() {\n    return this.offset.y;\n  }\n  /** @readonly */\n  get globalX() {\n    return this.global.x;\n  }\n  /** @readonly */\n  get globalY() {\n    return this.global.y;\n  }\n  /**\n   * The pointer coordinates in the renderer's screen. Alias for `screen.x`.\n   * @readonly\n   */\n  get screenX() {\n    return this.screen.x;\n  }\n  /**\n   * The pointer coordinates in the renderer's screen. Alias for `screen.y`.\n   * @readonly\n   */\n  get screenY() {\n    return this.screen.y;\n  }\n  /**\n   * Converts global coordinates into container-local coordinates.\n   *\n   * This method transforms coordinates from world space to a container's local space,\n   * useful for precise positioning and hit testing.\n   * @param container - The Container to get local coordinates for\n   * @param point - Optional Point object to store the result. If not provided, a new Point will be created\n   * @param globalPos - Optional custom global coordinates. If not provided, the event's global position is used\n   * @returns The local coordinates as a Point object\n   * @example\n   * ```ts\n   * // Basic usage - get local coordinates relative to a container\n   * sprite.on('pointermove', (event: FederatedMouseEvent) => {\n   *     // Get position relative to the sprite\n   *     const localPos = event.getLocalPosition(sprite);\n   *     console.log('Local position:', localPos.x, localPos.y);\n   * });\n   * // Using custom global coordinates\n   * const customGlobal = new Point(100, 100);\n   * sprite.on('pointermove', (event: FederatedMouseEvent) => {\n   *     // Transform custom coordinates\n   *     const localPos = event.getLocalPosition(sprite, undefined, customGlobal);\n   *     console.log('Custom local position:', localPos.x, localPos.y);\n   * });\n   * ```\n   * @see {@link Container.worldTransform} For the transformation matrix\n   * @see {@link Point} For the point class used to store coordinates\n   */\n  getLocalPosition(container, point, globalPos) {\n    return container.worldTransform.applyInverse(globalPos || this.global, point);\n  }\n  /**\n   * Whether the modifier key was pressed when this event natively occurred.\n   * @param key - The modifier key.\n   */\n  getModifierState(key) {\n    return \"getModifierState\" in this.nativeEvent && this.nativeEvent.getModifierState(key);\n  }\n  /**\n   * Not supported.\n   * @param _typeArg\n   * @param _canBubbleArg\n   * @param _cancelableArg\n   * @param _viewArg\n   * @param _detailArg\n   * @param _screenXArg\n   * @param _screenYArg\n   * @param _clientXArg\n   * @param _clientYArg\n   * @param _ctrlKeyArg\n   * @param _altKeyArg\n   * @param _shiftKeyArg\n   * @param _metaKeyArg\n   * @param _buttonArg\n   * @param _relatedTargetArg\n   * @deprecated since 7.0.0\n   * @ignore\n   */\n  // eslint-disable-next-line max-params\n  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\nexport { FederatedMouseEvent };\n//# sourceMappingURL=FederatedMouseEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\n\"use strict\";\nclass FederatedPointerEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    /**\n     * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n     * radiusX of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n     */\n    this.width = 0;\n    /**\n     * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n     * radiusY of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n     */\n    this.height = 0;\n    /**\n     * Indicates whether or not the pointer device that created the event is the primary pointer.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n     */\n    this.isPrimary = false;\n  }\n  /**\n   * Only included for completeness for now\n   * @ignore\n   */\n  getCoalescedEvents() {\n    if (this.type === \"pointermove\" || this.type === \"mousemove\" || this.type === \"touchmove\") {\n      return [this];\n    }\n    return [];\n  }\n  /**\n   * Only included for completeness for now\n   * @ignore\n   */\n  getPredictedEvents() {\n    throw new Error(\"getPredictedEvents is not supported!\");\n  }\n}\n\nexport { FederatedPointerEvent };\n//# sourceMappingURL=FederatedPointerEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\n\"use strict\";\nclass FederatedWheelEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    /**\n     * Units specified in pixels.\n     * @ignore\n     */\n    this.DOM_DELTA_PIXEL = 0;\n    /**\n     * Units specified in lines.\n     * @ignore\n     */\n    this.DOM_DELTA_LINE = 1;\n    /**\n     * Units specified in pages.\n     * @ignore\n     */\n    this.DOM_DELTA_PAGE = 2;\n  }\n}\n/**\n * Units specified in pixels.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_PIXEL = 0;\n/**\n * Units specified in lines.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_LINE = 1;\n/**\n * Units specified in pages.\n * @ignore\n */\nFederatedWheelEvent.DOM_DELTA_PAGE = 2;\n\nexport { FederatedWheelEvent };\n//# sourceMappingURL=FederatedWheelEvent.mjs.map\n","import EventEmitter from 'eventemitter3';\nimport { Point } from '../maths/point/Point.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\n\"use strict\";\nconst PROPAGATION_LIMIT = 2048;\nconst tempHitLocation = new Point();\nconst tempLocalMapping = new Point();\nclass EventBoundary {\n  /**\n   * @param rootTarget - The holder of the event boundary.\n   */\n  constructor(rootTarget) {\n    /**\n     * Emits events after they were dispatched into the scene graph.\n     *\n     * This can be used for global events listening, regardless of the scene graph being used. It should\n     * not be used by interactive libraries for normal use.\n     *\n     * Special events that do not bubble all the way to the root target are not emitted from here,\n     * e.g. pointerenter, pointerleave, click.\n     */\n    this.dispatch = new EventEmitter();\n    /**\n     * This flag would emit `pointermove`, `touchmove`, and `mousemove` events on all Containers.\n     *\n     * The `moveOnAll` semantics mirror those of earlier versions of PixiJS. This was disabled in favor of\n     * the Pointer Event API's approach.\n     */\n    this.moveOnAll = false;\n    /** Enables the global move events. `globalpointermove`, `globaltouchmove`, and `globalmousemove` */\n    this.enableGlobalMoveEvents = true;\n    /**\n     * State object for mapping methods.\n     * @see EventBoundary#trackingData\n     */\n    this.mappingState = {\n      trackingData: {}\n    };\n    /**\n     * The event pool maps event constructors to an free pool of instances of those specific events.\n     * @see EventBoundary#allocateEvent\n     * @see EventBoundary#freeEvent\n     */\n    this.eventPool = /* @__PURE__ */ new Map();\n    /** Every interactive element gathered from the scene. Only used in `pointermove` */\n    this._allInteractiveElements = [];\n    /** Every element that passed the hit test. Only used in `pointermove` */\n    this._hitElements = [];\n    /** Whether or not to collect all the interactive elements from the scene. Enabled in `pointermove` */\n    this._isPointerMoveEvent = false;\n    this.rootTarget = rootTarget;\n    this.hitPruneFn = this.hitPruneFn.bind(this);\n    this.hitTestFn = this.hitTestFn.bind(this);\n    this.mapPointerDown = this.mapPointerDown.bind(this);\n    this.mapPointerMove = this.mapPointerMove.bind(this);\n    this.mapPointerOut = this.mapPointerOut.bind(this);\n    this.mapPointerOver = this.mapPointerOver.bind(this);\n    this.mapPointerUp = this.mapPointerUp.bind(this);\n    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);\n    this.mapWheel = this.mapWheel.bind(this);\n    this.mappingTable = {};\n    this.addEventMapping(\"pointerdown\", this.mapPointerDown);\n    this.addEventMapping(\"pointermove\", this.mapPointerMove);\n    this.addEventMapping(\"pointerout\", this.mapPointerOut);\n    this.addEventMapping(\"pointerleave\", this.mapPointerOut);\n    this.addEventMapping(\"pointerover\", this.mapPointerOver);\n    this.addEventMapping(\"pointerup\", this.mapPointerUp);\n    this.addEventMapping(\"pointerupoutside\", this.mapPointerUpOutside);\n    this.addEventMapping(\"wheel\", this.mapWheel);\n  }\n  /**\n   * Adds an event mapping for the event `type` handled by `fn`.\n   *\n   * Event mappings can be used to implement additional or custom events. They take an event\n   * coming from the upstream scene (or directly from the {@link EventSystem}) and dispatch new downstream events\n   * generally trickling down and bubbling up to {@link EventBoundary.rootTarget this.rootTarget}.\n   *\n   * To modify the semantics of existing events, the built-in mapping methods of EventBoundary should be overridden\n   * instead.\n   * @param type - The type of upstream event to map.\n   * @param fn - The mapping method. The context of this function must be bound manually, if desired.\n   */\n  addEventMapping(type, fn) {\n    if (!this.mappingTable[type]) {\n      this.mappingTable[type] = [];\n    }\n    this.mappingTable[type].push({\n      fn,\n      priority: 0\n    });\n    this.mappingTable[type].sort((a, b) => a.priority - b.priority);\n  }\n  /**\n   * Dispatches the given event\n   * @param e - The event to dispatch.\n   * @param type - The type of event to dispatch. Defaults to `e.type`.\n   */\n  dispatchEvent(e, type) {\n    e.propagationStopped = false;\n    e.propagationImmediatelyStopped = false;\n    this.propagate(e, type);\n    this.dispatch.emit(type || e.type, e);\n  }\n  /**\n   * Maps the given upstream event through the event boundary and propagates it downstream.\n   * @param e - The event to map.\n   */\n  mapEvent(e) {\n    if (!this.rootTarget) {\n      return;\n    }\n    const mappers = this.mappingTable[e.type];\n    if (mappers) {\n      for (let i = 0, j = mappers.length; i < j; i++) {\n        mappers[i].fn(e);\n      }\n    } else {\n      warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);\n    }\n  }\n  /**\n   * Finds the Container that is the target of a event at the given coordinates.\n   *\n   * The passed (x,y) coordinates are in the world space above this event boundary.\n   * @param x - The x coordinate of the event.\n   * @param y - The y coordinate of the event.\n   */\n  hitTest(x, y) {\n    EventsTicker.pauseUpdate = true;\n    const useMove = this._isPointerMoveEvent && this.enableGlobalMoveEvents;\n    const fn = useMove ? \"hitTestMoveRecursive\" : \"hitTestRecursive\";\n    const invertedPath = this[fn](\n      this.rootTarget,\n      this.rootTarget.eventMode,\n      tempHitLocation.set(x, y),\n      this.hitTestFn,\n      this.hitPruneFn\n    );\n    return invertedPath && invertedPath[0];\n  }\n  /**\n   * Propagate the passed event from from {@link EventBoundary.rootTarget this.rootTarget} to its\n   * target `e.target`.\n   * @param e - The event to propagate.\n   * @param type - The type of event to propagate. Defaults to `e.type`.\n   */\n  propagate(e, type) {\n    if (!e.target) {\n      return;\n    }\n    const composedPath = e.composedPath();\n    e.eventPhase = e.CAPTURING_PHASE;\n    for (let i = 0, j = composedPath.length - 1; i < j; i++) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n    e.eventPhase = e.AT_TARGET;\n    e.currentTarget = e.target;\n    this.notifyTarget(e, type);\n    if (e.propagationStopped || e.propagationImmediatelyStopped)\n      return;\n    e.eventPhase = e.BUBBLING_PHASE;\n    for (let i = composedPath.length - 2; i >= 0; i--) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n  }\n  /**\n   * Emits the event `e` to all interactive containers. The event is propagated in the bubbling phase always.\n   *\n   * This is used in the `globalpointermove` event.\n   * @param e - The emitted event.\n   * @param type - The listeners to notify.\n   * @param targets - The targets to notify.\n   */\n  all(e, type, targets = this._allInteractiveElements) {\n    if (targets.length === 0)\n      return;\n    e.eventPhase = e.BUBBLING_PHASE;\n    const events = Array.isArray(type) ? type : [type];\n    for (let i = targets.length - 1; i >= 0; i--) {\n      events.forEach((event) => {\n        e.currentTarget = targets[i];\n        this.notifyTarget(e, event);\n      });\n    }\n  }\n  /**\n   * Finds the propagation path from {@link EventBoundary.rootTarget rootTarget} to the passed\n   * `target`. The last element in the path is `target`.\n   * @param target - The target to find the propagation path to.\n   */\n  propagationPath(target) {\n    const propagationPath = [target];\n    for (let i = 0; i < PROPAGATION_LIMIT && (target !== this.rootTarget && target.parent); i++) {\n      if (!target.parent) {\n        throw new Error(\"Cannot find propagation path to disconnected target\");\n      }\n      propagationPath.push(target.parent);\n      target = target.parent;\n    }\n    propagationPath.reverse();\n    return propagationPath;\n  }\n  hitTestMoveRecursive(currentTarget, eventMode, location, testFn, pruneFn, ignore = false) {\n    let shouldReturn = false;\n    if (this._interactivePrune(currentTarget))\n      return null;\n    if (currentTarget.eventMode === \"dynamic\" || eventMode === \"dynamic\") {\n      EventsTicker.pauseUpdate = false;\n    }\n    if (currentTarget.interactiveChildren && currentTarget.children) {\n      const children = currentTarget.children;\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const nestedHit = this.hitTestMoveRecursive(\n          child,\n          this._isInteractive(eventMode) ? eventMode : child.eventMode,\n          location,\n          testFn,\n          pruneFn,\n          ignore || pruneFn(currentTarget, location)\n        );\n        if (nestedHit) {\n          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {\n            continue;\n          }\n          const isInteractive = currentTarget.isInteractive();\n          if (nestedHit.length > 0 || isInteractive) {\n            if (isInteractive)\n              this._allInteractiveElements.push(currentTarget);\n            nestedHit.push(currentTarget);\n          }\n          if (this._hitElements.length === 0)\n            this._hitElements = nestedHit;\n          shouldReturn = true;\n        }\n      }\n    }\n    const isInteractiveMode = this._isInteractive(eventMode);\n    const isInteractiveTarget = currentTarget.isInteractive();\n    if (isInteractiveTarget && isInteractiveTarget)\n      this._allInteractiveElements.push(currentTarget);\n    if (ignore || this._hitElements.length > 0)\n      return null;\n    if (shouldReturn)\n      return this._hitElements;\n    if (isInteractiveMode && (!pruneFn(currentTarget, location) && testFn(currentTarget, location))) {\n      return isInteractiveTarget ? [currentTarget] : [];\n    }\n    return null;\n  }\n  /**\n   * Recursive implementation for {@link EventBoundary.hitTest hitTest}.\n   * @param currentTarget - The Container that is to be hit tested.\n   * @param eventMode - The event mode for the `currentTarget` or one of its parents.\n   * @param location - The location that is being tested for overlap.\n   * @param testFn - Callback that determines whether the target passes hit testing. This callback\n   *  can assume that `pruneFn` failed to prune the container.\n   * @param pruneFn - Callback that determiness whether the target and all of its children\n   *  cannot pass the hit test. It is used as a preliminary optimization to prune entire subtrees\n   *  of the scene graph.\n   * @returns An array holding the hit testing target and all its ancestors in order. The first element\n   *  is the target itself and the last is {@link EventBoundary.rootTarget rootTarget}. This is the opposite\n   *  order w.r.t. the propagation path. If no hit testing target is found, null is returned.\n   */\n  hitTestRecursive(currentTarget, eventMode, location, testFn, pruneFn) {\n    if (this._interactivePrune(currentTarget) || pruneFn(currentTarget, location)) {\n      return null;\n    }\n    if (currentTarget.eventMode === \"dynamic\" || eventMode === \"dynamic\") {\n      EventsTicker.pauseUpdate = false;\n    }\n    if (currentTarget.interactiveChildren && currentTarget.children) {\n      const children = currentTarget.children;\n      const relativeLocation = location;\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const nestedHit = this.hitTestRecursive(\n          child,\n          this._isInteractive(eventMode) ? eventMode : child.eventMode,\n          relativeLocation,\n          testFn,\n          pruneFn\n        );\n        if (nestedHit) {\n          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {\n            continue;\n          }\n          const isInteractive = currentTarget.isInteractive();\n          if (nestedHit.length > 0 || isInteractive)\n            nestedHit.push(currentTarget);\n          return nestedHit;\n        }\n      }\n    }\n    const isInteractiveMode = this._isInteractive(eventMode);\n    const isInteractiveTarget = currentTarget.isInteractive();\n    if (isInteractiveMode && testFn(currentTarget, location)) {\n      return isInteractiveTarget ? [currentTarget] : [];\n    }\n    return null;\n  }\n  _isInteractive(int) {\n    return int === \"static\" || int === \"dynamic\";\n  }\n  _interactivePrune(container) {\n    if (!container || !container.visible || !container.renderable || !container.measurable) {\n      return true;\n    }\n    if (container.eventMode === \"none\") {\n      return true;\n    }\n    if (container.eventMode === \"passive\" && !container.interactiveChildren) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Checks whether the container or any of its children cannot pass the hit test at all.\n   *\n   * {@link EventBoundary}'s implementation uses the {@link Container.hitArea hitArea}\n   * and {@link Container._maskEffect} for pruning.\n   * @param container - The container to prune.\n   * @param location - The location to test for overlap.\n   */\n  hitPruneFn(container, location) {\n    if (container.hitArea) {\n      container.worldTransform.applyInverse(location, tempLocalMapping);\n      if (!container.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {\n        return true;\n      }\n    }\n    if (container.effects && container.effects.length) {\n      for (let i = 0; i < container.effects.length; i++) {\n        const effect = container.effects[i];\n        if (effect.containsPoint) {\n          const effectContainsPoint = effect.containsPoint(location, this.hitTestFn);\n          if (!effectContainsPoint) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  /**\n   * Checks whether the container passes hit testing for the given location.\n   * @param container - The container to test.\n   * @param location - The location to test for overlap.\n   * @returns - Whether `container` passes hit testing for `location`.\n   */\n  hitTestFn(container, location) {\n    if (container.hitArea) {\n      return true;\n    }\n    if (container?.containsPoint) {\n      container.worldTransform.applyInverse(location, tempLocalMapping);\n      return container.containsPoint(tempLocalMapping);\n    }\n    return false;\n  }\n  /**\n   * Notify all the listeners to the event's `currentTarget`.\n   *\n   * If the `currentTarget` contains the property `on<type>`, then it is called here,\n   * simulating the behavior from version 6.x and prior.\n   * @param e - The event passed to the target.\n   * @param type - The type of event to notify. Defaults to `e.type`.\n   */\n  notifyTarget(e, type) {\n    if (!e.currentTarget.isInteractive()) {\n      return;\n    }\n    type ?? (type = e.type);\n    const handlerKey = `on${type}`;\n    e.currentTarget[handlerKey]?.(e);\n    const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;\n    this._notifyListeners(e, key);\n    if (e.eventPhase === e.AT_TARGET) {\n      this._notifyListeners(e, type);\n    }\n  }\n  /**\n   * Maps the upstream `pointerdown` events to a downstream `pointerdown` event.\n   *\n   * `touchstart`, `rightdown`, `mousedown` events are also dispatched for specific pointer types.\n   * @param from - The upstream `pointerdown` event.\n   */\n  mapPointerDown(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerdown\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchstart\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightdown\" : \"mousedown\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    trackingData.pressTargetsByButton[from.button] = e.composedPath();\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointermove` to downstream `pointerout`, `pointerover`, and `pointermove` events, in that order.\n   *\n   * The tracking data for the specific pointer has an updated `overTarget`. `mouseout`, `mouseover`,\n   * `mousemove`, and `touchmove` events are fired as well for specific pointer types.\n   * @param from - The upstream `pointermove` event.\n   */\n  mapPointerMove(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    this._allInteractiveElements.length = 0;\n    this._hitElements.length = 0;\n    this._isPointerMoveEvent = true;\n    const e = this.createPointerEvent(from);\n    this._isPointerMoveEvent = false;\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    const trackingData = this.trackingData(from.pointerId);\n    const outTarget = this.findMountedTarget(trackingData.overTargets);\n    if (trackingData.overTargets?.length > 0 && outTarget !== e.target) {\n      const outType = from.type === \"mousemove\" ? \"mouseout\" : \"pointerout\";\n      const outEvent = this.createPointerEvent(from, outType, outTarget);\n      this.dispatchEvent(outEvent, \"pointerout\");\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      if (!e.composedPath().includes(outTarget)) {\n        const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n        leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n        while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {\n          leaveEvent.currentTarget = leaveEvent.target;\n          this.notifyTarget(leaveEvent);\n          if (isMouse)\n            this.notifyTarget(leaveEvent, \"mouseleave\");\n          leaveEvent.target = leaveEvent.target.parent;\n        }\n        this.freeEvent(leaveEvent);\n      }\n      this.freeEvent(outEvent);\n    }\n    if (outTarget !== e.target) {\n      const overType = from.type === \"mousemove\" ? \"mouseover\" : \"pointerover\";\n      const overEvent = this.clonePointerEvent(e, overType);\n      this.dispatchEvent(overEvent, \"pointerover\");\n      if (isMouse)\n        this.dispatchEvent(overEvent, \"mouseover\");\n      let overTargetAncestor = outTarget?.parent;\n      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {\n        if (overTargetAncestor === e.target)\n          break;\n        overTargetAncestor = overTargetAncestor.parent;\n      }\n      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;\n      if (didPointerEnter) {\n        const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n        enterEvent.eventPhase = enterEvent.AT_TARGET;\n        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {\n          enterEvent.currentTarget = enterEvent.target;\n          this.notifyTarget(enterEvent);\n          if (isMouse)\n            this.notifyTarget(enterEvent, \"mouseenter\");\n          enterEvent.target = enterEvent.target.parent;\n        }\n        this.freeEvent(enterEvent);\n      }\n      this.freeEvent(overEvent);\n    }\n    const allMethods = [];\n    const allowGlobalPointerEvents = this.enableGlobalMoveEvents ?? true;\n    this.moveOnAll ? allMethods.push(\"pointermove\") : this.dispatchEvent(e, \"pointermove\");\n    allowGlobalPointerEvents && allMethods.push(\"globalpointermove\");\n    if (e.pointerType === \"touch\") {\n      this.moveOnAll ? allMethods.splice(1, 0, \"touchmove\") : this.dispatchEvent(e, \"touchmove\");\n      allowGlobalPointerEvents && allMethods.push(\"globaltouchmove\");\n    }\n    if (isMouse) {\n      this.moveOnAll ? allMethods.splice(1, 0, \"mousemove\") : this.dispatchEvent(e, \"mousemove\");\n      allowGlobalPointerEvents && allMethods.push(\"globalmousemove\");\n      this.cursor = e.target?.cursor;\n    }\n    if (allMethods.length > 0) {\n      this.all(e, allMethods);\n    }\n    this._allInteractiveElements.length = 0;\n    this._hitElements.length = 0;\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointerover` to downstream `pointerover` and `pointerenter` events, in that order.\n   *\n   * The tracking data for the specific pointer gets a new `overTarget`.\n   * @param from - The upstream `pointerover` event.\n   */\n  mapPointerOver(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const e = this.createPointerEvent(from);\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    this.dispatchEvent(e, \"pointerover\");\n    if (isMouse)\n      this.dispatchEvent(e, \"mouseover\");\n    if (e.pointerType === \"mouse\")\n      this.cursor = e.target?.cursor;\n    const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n    enterEvent.eventPhase = enterEvent.AT_TARGET;\n    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {\n      enterEvent.currentTarget = enterEvent.target;\n      this.notifyTarget(enterEvent);\n      if (isMouse)\n        this.notifyTarget(enterEvent, \"mouseenter\");\n      enterEvent.target = enterEvent.target.parent;\n    }\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n    this.freeEvent(enterEvent);\n  }\n  /**\n   * Maps the upstream `pointerout` to downstream `pointerout`, `pointerleave` events, in that order.\n   *\n   * The tracking data for the specific pointer is cleared of a `overTarget`.\n   * @param from - The upstream `pointerout` event.\n   */\n  mapPointerOut(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    if (trackingData.overTargets) {\n      const isMouse = from.pointerType === \"mouse\" || from.pointerType === \"pen\";\n      const outTarget = this.findMountedTarget(trackingData.overTargets);\n      const outEvent = this.createPointerEvent(from, \"pointerout\", outTarget);\n      this.dispatchEvent(outEvent);\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n      leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {\n        leaveEvent.currentTarget = leaveEvent.target;\n        this.notifyTarget(leaveEvent);\n        if (isMouse)\n          this.notifyTarget(leaveEvent, \"mouseleave\");\n        leaveEvent.target = leaveEvent.target.parent;\n      }\n      trackingData.overTargets = null;\n      this.freeEvent(outEvent);\n      this.freeEvent(leaveEvent);\n    }\n    this.cursor = null;\n  }\n  /**\n   * Maps the upstream `pointerup` event to downstream `pointerup`, `pointerupoutside`,\n   * and `click`/`rightclick`/`pointertap` events, in that order.\n   *\n   * The `pointerupoutside` event bubbles from the original `pointerdown` target to the most specific\n   * ancestor of the `pointerdown` and `pointerup` targets, which is also the `click` event's target. `touchend`,\n   * `rightup`, `mouseup`, `touchendoutside`, `rightupoutside`, `mouseupoutside`, and `tap` are fired as well for\n   * specific pointer types.\n   * @param from - The upstream `pointerup` event.\n   */\n  mapPointerUp(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const now = performance.now();\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerup\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchend\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightup\" : \"mouseup\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    let clickTarget = pressTarget;\n    if (pressTarget && !e.composedPath().includes(pressTarget)) {\n      let currentTarget = pressTarget;\n      while (currentTarget && !e.composedPath().includes(currentTarget)) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          const isRightButton = e.button === 2;\n          this.notifyTarget(e, isRightButton ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n      clickTarget = currentTarget;\n    }\n    if (clickTarget) {\n      const clickEvent = this.clonePointerEvent(e, \"click\");\n      clickEvent.target = clickTarget;\n      clickEvent.path = null;\n      if (!trackingData.clicksByButton[from.button]) {\n        trackingData.clicksByButton[from.button] = {\n          clickCount: 0,\n          target: clickEvent.target,\n          timeStamp: now\n        };\n      }\n      const clickHistory = trackingData.clicksByButton[from.button];\n      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {\n        ++clickHistory.clickCount;\n      } else {\n        clickHistory.clickCount = 1;\n      }\n      clickHistory.target = clickEvent.target;\n      clickHistory.timeStamp = now;\n      clickEvent.detail = clickHistory.clickCount;\n      if (clickEvent.pointerType === \"mouse\") {\n        const isRightButton = clickEvent.button === 2;\n        this.dispatchEvent(clickEvent, isRightButton ? \"rightclick\" : \"click\");\n      } else if (clickEvent.pointerType === \"touch\") {\n        this.dispatchEvent(clickEvent, \"tap\");\n      }\n      this.dispatchEvent(clickEvent, \"pointertap\");\n      this.freeEvent(clickEvent);\n    }\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `pointerupoutside` event to a downstream `pointerupoutside` event, bubbling from the original\n   * `pointerdown` target to `rootTarget`.\n   *\n   * (The most specific ancestor of the `pointerdown` event and the `pointerup` event must the\n   * `{@link EventBoundary}'s root because the `pointerup` event occurred outside of the boundary.)\n   *\n   * `touchendoutside`, `mouseupoutside`, and `rightupoutside` events are fired as well for specific pointer\n   * types. The tracking data for the specific pointer is cleared of a `pressTarget`.\n   * @param from - The upstream `pointerupoutside` event.\n   */\n  mapPointerUpOutside(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    const e = this.createPointerEvent(from);\n    if (pressTarget) {\n      let currentTarget = pressTarget;\n      while (currentTarget) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          this.notifyTarget(e, e.button === 2 ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n    }\n    this.freeEvent(e);\n  }\n  /**\n   * Maps the upstream `wheel` event to a downstream `wheel` event.\n   * @param from - The upstream `wheel` event.\n   */\n  mapWheel(from) {\n    if (!(from instanceof FederatedWheelEvent)) {\n      warn(\"EventBoundary cannot map a non-wheel event as a wheel event\");\n      return;\n    }\n    const wheelEvent = this.createWheelEvent(from);\n    this.dispatchEvent(wheelEvent);\n    this.freeEvent(wheelEvent);\n  }\n  /**\n   * Finds the most specific event-target in the given propagation path that is still mounted in the scene graph.\n   *\n   * This is used to find the correct `pointerup` and `pointerout` target in the case that the original `pointerdown`\n   * or `pointerover` target was unmounted from the scene graph.\n   * @param propagationPath - The propagation path was valid in the past.\n   * @returns - The most specific event-target still mounted at the same location in the scene graph.\n   */\n  findMountedTarget(propagationPath) {\n    if (!propagationPath) {\n      return null;\n    }\n    let currentTarget = propagationPath[0];\n    for (let i = 1; i < propagationPath.length; i++) {\n      if (propagationPath[i].parent === currentTarget) {\n        currentTarget = propagationPath[i];\n      } else {\n        break;\n      }\n    }\n    return currentTarget;\n  }\n  /**\n   * Creates an event whose `originalEvent` is `from`, with an optional `type` and `target` override.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The `originalEvent` for the returned event.\n   * @param [type=from.type] - The type of the returned event.\n   * @param target - The target of the returned event.\n   */\n  createPointerEvent(from, type, target) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = target ?? this.hitTest(event.global.x, event.global.y) ?? this._hitElements[0];\n    if (typeof type === \"string\") {\n      event.type = type;\n    }\n    return event;\n  }\n  /**\n   * Creates a wheel event whose `originalEvent` is `from`.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The upstream wheel event.\n   */\n  createWheelEvent(from) {\n    const event = this.allocateEvent(FederatedWheelEvent);\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = this.hitTest(event.global.x, event.global.y);\n    return event;\n  }\n  /**\n   * Clones the event `from`, with an optional `type` override.\n   *\n   * The event is allocated using {@link EventBoundary#allocateEvent this.allocateEvent}.\n   * @param from - The event to clone.\n   * @param [type=from.type] - The type of the returned event.\n   */\n  clonePointerEvent(from, type) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = type ?? event.type;\n    return event;\n  }\n  /**\n   * Copies wheel {@link FederatedWheelEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + deltaMode\n   * + deltaX\n   * + deltaY\n   * + deltaZ\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyWheelData(from, to) {\n    to.deltaMode = from.deltaMode;\n    to.deltaX = from.deltaX;\n    to.deltaY = from.deltaY;\n    to.deltaZ = from.deltaZ;\n  }\n  /**\n   * Copies pointer {@link FederatedPointerEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + pointerId\n   * + width\n   * + height\n   * + isPrimary\n   * + pointerType\n   * + pressure\n   * + tangentialPressure\n   * + tiltX\n   * + tiltY\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyPointerData(from, to) {\n    if (!(from instanceof FederatedPointerEvent && to instanceof FederatedPointerEvent))\n      return;\n    to.pointerId = from.pointerId;\n    to.width = from.width;\n    to.height = from.height;\n    to.isPrimary = from.isPrimary;\n    to.pointerType = from.pointerType;\n    to.pressure = from.pressure;\n    to.tangentialPressure = from.tangentialPressure;\n    to.tiltX = from.tiltX;\n    to.tiltY = from.tiltY;\n    to.twist = from.twist;\n  }\n  /**\n   * Copies mouse {@link FederatedMouseEvent} data from `from` to `to`.\n   *\n   * The following properties are copied:\n   * + altKey\n   * + button\n   * + buttons\n   * + clientX\n   * + clientY\n   * + metaKey\n   * + movementX\n   * + movementY\n   * + pageX\n   * + pageY\n   * + x\n   * + y\n   * + screen\n   * + shiftKey\n   * + global\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyMouseData(from, to) {\n    if (!(from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent))\n      return;\n    to.altKey = from.altKey;\n    to.button = from.button;\n    to.buttons = from.buttons;\n    to.client.copyFrom(from.client);\n    to.ctrlKey = from.ctrlKey;\n    to.metaKey = from.metaKey;\n    to.movement.copyFrom(from.movement);\n    to.screen.copyFrom(from.screen);\n    to.shiftKey = from.shiftKey;\n    to.global.copyFrom(from.global);\n  }\n  /**\n   * Copies base {@link FederatedEvent} data from `from` into `to`.\n   *\n   * The following properties are copied:\n   * + isTrusted\n   * + srcElement\n   * + timeStamp\n   * + type\n   * @param from - The event to copy data from.\n   * @param to - The event to copy data into.\n   */\n  copyData(from, to) {\n    to.isTrusted = from.isTrusted;\n    to.srcElement = from.srcElement;\n    to.timeStamp = performance.now();\n    to.type = from.type;\n    to.detail = from.detail;\n    to.view = from.view;\n    to.which = from.which;\n    to.layer.copyFrom(from.layer);\n    to.page.copyFrom(from.page);\n  }\n  /**\n   * @param id - The pointer ID.\n   * @returns The tracking data stored for the given pointer. If no data exists, a blank\n   *  state will be created.\n   */\n  trackingData(id) {\n    if (!this.mappingState.trackingData[id]) {\n      this.mappingState.trackingData[id] = {\n        pressTargetsByButton: {},\n        clicksByButton: {},\n        overTarget: null\n      };\n    }\n    return this.mappingState.trackingData[id];\n  }\n  /**\n   * Allocate a specific type of event from {@link EventBoundary#eventPool this.eventPool}.\n   *\n   * This allocation is constructor-agnostic, as long as it only takes one argument - this event\n   * boundary.\n   * @param constructor - The event's constructor.\n   * @returns An event of the given type.\n   */\n  allocateEvent(constructor) {\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    const event = this.eventPool.get(constructor).pop() || new constructor(this);\n    event.eventPhase = event.NONE;\n    event.currentTarget = null;\n    event.defaultPrevented = false;\n    event.path = null;\n    event.target = null;\n    return event;\n  }\n  /**\n   * Frees the event and puts it back into the event pool.\n   *\n   * It is illegal to reuse the event until it is allocated again, using `this.allocateEvent`.\n   *\n   * It is also advised that events not allocated from {@link EventBoundary#allocateEvent this.allocateEvent}\n   * not be freed. This is because of the possibility that the same event is freed twice, which can cause\n   * it to be allocated twice & result in overwriting.\n   * @param event - The event to be freed.\n   * @throws Error if the event is managed by another event boundary.\n   */\n  freeEvent(event) {\n    if (event.manager !== this)\n      throw new Error(\"It is illegal to free an event not managed by this EventBoundary!\");\n    const constructor = event.constructor;\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    this.eventPool.get(constructor).push(event);\n  }\n  /**\n   * Similar to {@link EventEmitter.emit}, except it stops if the `propagationImmediatelyStopped` flag\n   * is set on the event.\n   * @param e - The event to call each listener with.\n   * @param type - The event key.\n   */\n  _notifyListeners(e, type) {\n    const listeners = e.currentTarget._events[type];\n    if (!listeners)\n      return;\n    if (\"fn\" in listeners) {\n      if (listeners.once)\n        e.currentTarget.removeListener(type, listeners.fn, void 0, true);\n      listeners.fn.call(listeners.context, e);\n    } else {\n      for (let i = 0, j = listeners.length; i < j && !e.propagationImmediatelyStopped; i++) {\n        if (listeners[i].once)\n          e.currentTarget.removeListener(type, listeners[i].fn, void 0, true);\n        listeners[i].fn.call(listeners[i].context, e);\n      }\n    }\n  }\n}\n\nexport { EventBoundary };\n//# sourceMappingURL=EventBoundary.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { EventBoundary } from './EventBoundary.mjs';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\n\"use strict\";\nconst MOUSE_POINTER_ID = 1;\nconst TOUCH_TO_POINTER = {\n  touchstart: \"pointerdown\",\n  touchend: \"pointerup\",\n  touchendoutside: \"pointerupoutside\",\n  touchmove: \"pointermove\",\n  touchcancel: \"pointercancel\"\n};\nconst _EventSystem = class _EventSystem {\n  /**\n   * @param {Renderer} renderer\n   */\n  constructor(renderer) {\n    /**\n     * Indicates whether the current device supports touch events according to the W3C Touch Events spec.\n     * This is used to determine the appropriate event handling strategy.\n     * @see {@link https://www.w3.org/TR/touch-events/} W3C Touch Events Specification\n     * @readonly\n     * @default 'ontouchstart' in globalThis\n     */\n    this.supportsTouchEvents = \"ontouchstart\" in globalThis;\n    /**\n     * Indicates whether the current device supports pointer events according to the W3C Pointer Events spec.\n     * Used to optimize event handling and provide more consistent cross-device interaction.\n     * @see {@link https://www.w3.org/TR/pointerevents/} W3C Pointer Events Specification\n     * @readonly\n     * @default !!globalThis.PointerEvent\n     */\n    this.supportsPointerEvents = !!globalThis.PointerEvent;\n    /**\n     * The DOM element to which the root event listeners are bound. This is automatically set to\n     * the renderer's {@link Renderer#view view}.\n     */\n    this.domElement = null;\n    /** The resolution used to convert between the DOM client space into world space. */\n    this.resolution = 1;\n    this.renderer = renderer;\n    this.rootBoundary = new EventBoundary(null);\n    EventsTicker.init(this);\n    this.autoPreventDefault = true;\n    this._eventsAdded = false;\n    this._rootPointerEvent = new FederatedPointerEvent(null);\n    this._rootWheelEvent = new FederatedWheelEvent(null);\n    this.cursorStyles = {\n      default: \"inherit\",\n      pointer: \"pointer\"\n    };\n    this.features = new Proxy({ ..._EventSystem.defaultEventFeatures }, {\n      set: (target, key, value) => {\n        if (key === \"globalMove\") {\n          this.rootBoundary.enableGlobalMoveEvents = value;\n        }\n        target[key] = value;\n        return true;\n      }\n    });\n    this._onPointerDown = this._onPointerDown.bind(this);\n    this._onPointerMove = this._onPointerMove.bind(this);\n    this._onPointerUp = this._onPointerUp.bind(this);\n    this._onPointerOverOut = this._onPointerOverOut.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n  }\n  /**\n   * The default interaction mode for all display objects.\n   * @see Container.eventMode\n   * @type {EventMode}\n   * @readonly\n   * @since 7.2.0\n   */\n  static get defaultEventMode() {\n    return this._defaultEventMode;\n  }\n  /**\n   * Runner init called, view is available at this point.\n   * @ignore\n   */\n  init(options) {\n    const { canvas, resolution } = this.renderer;\n    this.setTargetElement(canvas);\n    this.resolution = resolution;\n    _EventSystem._defaultEventMode = options.eventMode ?? \"passive\";\n    Object.assign(this.features, options.eventFeatures ?? {});\n    this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove;\n  }\n  /**\n   * Handle changing resolution.\n   * @ignore\n   */\n  resolutionChange(resolution) {\n    this.resolution = resolution;\n  }\n  /** Destroys all event listeners and detaches the renderer. */\n  destroy() {\n    EventsTicker.destroy();\n    this.setTargetElement(null);\n    this.renderer = null;\n    this._currentCursor = null;\n  }\n  /**\n   * Sets the current cursor mode, handling any callbacks or CSS style changes.\n   * The cursor can be a CSS cursor string, a custom callback function, or a key from the cursorStyles dictionary.\n   * @param mode - Cursor mode to set. Can be:\n   * - A CSS cursor string (e.g., 'pointer', 'grab')\n   * - A key from the cursorStyles dictionary\n   * - null/undefined to reset to default\n   * @example\n   * ```ts\n   * // Using predefined cursor styles\n   * app.renderer.events.setCursor('pointer');    // Set standard pointer cursor\n   * app.renderer.events.setCursor('grab');       // Set grab cursor\n   * app.renderer.events.setCursor(null);         // Reset to default\n   *\n   * // Using custom cursor styles\n   * app.renderer.events.cursorStyles.custom = 'url(\"cursor.png\"), auto';\n   * app.renderer.events.setCursor('custom');     // Apply custom cursor\n   *\n   * // Using callback-based cursor\n   * app.renderer.events.cursorStyles.dynamic = (mode) => {\n   *     document.body.style.cursor = mode === 'hover' ? 'pointer' : 'default';\n   * };\n   * app.renderer.events.setCursor('dynamic');    // Trigger cursor callback\n   * ```\n   * @remarks\n   * - Has no effect on OffscreenCanvas except for callback-based cursors\n   * - Caches current cursor to avoid unnecessary DOM updates\n   * - Supports CSS cursor values, style objects, and callback functions\n   * @see {@link EventSystem.cursorStyles} For defining custom cursor styles\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/CSS/cursor} MDN Cursor Reference\n   */\n  setCursor(mode) {\n    mode || (mode = \"default\");\n    let applyStyles = true;\n    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {\n      applyStyles = false;\n    }\n    if (this._currentCursor === mode) {\n      return;\n    }\n    this._currentCursor = mode;\n    const style = this.cursorStyles[mode];\n    if (style) {\n      switch (typeof style) {\n        case \"string\":\n          if (applyStyles) {\n            this.domElement.style.cursor = style;\n          }\n          break;\n        case \"function\":\n          style(mode);\n          break;\n        case \"object\":\n          if (applyStyles) {\n            Object.assign(this.domElement.style, style);\n          }\n          break;\n      }\n    } else if (applyStyles && typeof mode === \"string\" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {\n      this.domElement.style.cursor = mode;\n    }\n  }\n  /**\n   * The global pointer event instance containing the most recent pointer state.\n   * This is useful for accessing pointer information without listening to events.\n   * @example\n   * ```ts\n   * // Access current pointer position at any time\n   * const eventSystem = app.renderer.events;\n   * const pointer = eventSystem.pointer;\n   *\n   * // Get global coordinates\n   * console.log('Position:', pointer.global.x, pointer.global.y);\n   *\n   * // Check button state\n   * console.log('Buttons pressed:', pointer.buttons);\n   *\n   * // Get pointer type and pressure\n   * console.log('Type:', pointer.pointerType);\n   * console.log('Pressure:', pointer.pressure);\n   * ```\n   * @readonly\n   * @since 7.2.0\n   * @see {@link FederatedPointerEvent} For all available pointer properties\n   */\n  get pointer() {\n    return this._rootPointerEvent;\n  }\n  /**\n   * Event handler for pointer down events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerDown(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    const events = this._normalizeToPointerData(nativeEvent);\n    if (this.autoPreventDefault && events[0].isNormalized) {\n      const cancelable = nativeEvent.cancelable || !(\"cancelable\" in nativeEvent);\n      if (cancelable) {\n        nativeEvent.preventDefault();\n      }\n    }\n    for (let i = 0, j = events.length; i < j; i++) {\n      const nativeEvent2 = events[i];\n      const federatedEvent = this._bootstrapEvent(this._rootPointerEvent, nativeEvent2);\n      this.rootBoundary.mapEvent(federatedEvent);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer move events on on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch events.\n   */\n  _onPointerMove(nativeEvent) {\n    if (!this.features.move)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    EventsTicker.pointerMoved();\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer up events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerUp(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    let target = nativeEvent.target;\n    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {\n      target = nativeEvent.composedPath()[0];\n    }\n    const outside = target !== this.domElement ? \"outside\" : \"\";\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      event.type += outside;\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Event handler for pointer over & out events on {@link EventSystem#domElement this.domElement}.\n   * @param nativeEvent - The native mouse/pointer/touch event.\n   */\n  _onPointerOverOut(nativeEvent) {\n    if (!this.features.click)\n      return;\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    const normalizedEvents = this._normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this._bootstrapEvent(this._rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  /**\n   * Passive handler for `wheel` events on {@link EventSystem.domElement this.domElement}.\n   * @param nativeEvent - The native wheel event.\n   */\n  onWheel(nativeEvent) {\n    if (!this.features.wheel)\n      return;\n    const wheelEvent = this.normalizeWheelEvent(nativeEvent);\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    this.rootBoundary.mapEvent(wheelEvent);\n  }\n  /**\n   * Sets the {@link EventSystem#domElement domElement} and binds event listeners.\n   * This method manages the DOM event bindings for the event system, allowing you to\n   * change or remove the target element that receives input events.\n   * > [!IMPORTANT] This will default to the canvas element of the renderer, so you\n   * > should not need to call this unless you are using a custom element.\n   * @param element - The new DOM element to bind events to, or null to remove all event bindings\n   * @example\n   * ```ts\n   * // Set a new canvas element as the target\n   * const canvas = document.createElement('canvas');\n   * app.renderer.events.setTargetElement(canvas);\n   *\n   * // Remove all event bindings\n   * app.renderer.events.setTargetElement(null);\n   *\n   * // Switch to a different canvas\n   * const newCanvas = document.querySelector('#game-canvas');\n   * app.renderer.events.setTargetElement(newCanvas);\n   * ```\n   * @remarks\n   * - Automatically removes event listeners from previous element\n   * - Required for the event system to function\n   * - Safe to call multiple times\n   * @see {@link EventSystem#domElement} The current DOM element\n   * @see {@link EventsTicker} For the ticker system that tracks pointer movement\n   */\n  setTargetElement(element) {\n    this._removeEvents();\n    this.domElement = element;\n    EventsTicker.domElement = element;\n    this._addEvents();\n  }\n  /** Register event listeners on {@link Renderer#domElement this.domElement}. */\n  _addEvents() {\n    if (this._eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.addTickerListener();\n    const style = this.domElement.style;\n    if (style) {\n      if (globalThis.navigator.msPointerEnabled) {\n        style.msContentZooming = \"none\";\n        style.msTouchAction = \"none\";\n      } else if (this.supportsPointerEvents) {\n        style.touchAction = \"none\";\n      }\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.addEventListener(\"pointermove\", this._onPointerMove, true);\n      this.domElement.addEventListener(\"pointerdown\", this._onPointerDown, true);\n      this.domElement.addEventListener(\"pointerleave\", this._onPointerOverOut, true);\n      this.domElement.addEventListener(\"pointerover\", this._onPointerOverOut, true);\n      globalThis.addEventListener(\"pointerup\", this._onPointerUp, true);\n    } else {\n      globalThis.document.addEventListener(\"mousemove\", this._onPointerMove, true);\n      this.domElement.addEventListener(\"mousedown\", this._onPointerDown, true);\n      this.domElement.addEventListener(\"mouseout\", this._onPointerOverOut, true);\n      this.domElement.addEventListener(\"mouseover\", this._onPointerOverOut, true);\n      globalThis.addEventListener(\"mouseup\", this._onPointerUp, true);\n      if (this.supportsTouchEvents) {\n        this.domElement.addEventListener(\"touchstart\", this._onPointerDown, true);\n        this.domElement.addEventListener(\"touchend\", this._onPointerUp, true);\n        this.domElement.addEventListener(\"touchmove\", this._onPointerMove, true);\n      }\n    }\n    this.domElement.addEventListener(\"wheel\", this.onWheel, {\n      passive: true,\n      capture: true\n    });\n    this._eventsAdded = true;\n  }\n  /** Unregister event listeners on {@link EventSystem#domElement this.domElement}. */\n  _removeEvents() {\n    if (!this._eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.removeTickerListener();\n    const style = this.domElement.style;\n    if (style) {\n      if (globalThis.navigator.msPointerEnabled) {\n        style.msContentZooming = \"\";\n        style.msTouchAction = \"\";\n      } else if (this.supportsPointerEvents) {\n        style.touchAction = \"\";\n      }\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.removeEventListener(\"pointermove\", this._onPointerMove, true);\n      this.domElement.removeEventListener(\"pointerdown\", this._onPointerDown, true);\n      this.domElement.removeEventListener(\"pointerleave\", this._onPointerOverOut, true);\n      this.domElement.removeEventListener(\"pointerover\", this._onPointerOverOut, true);\n      globalThis.removeEventListener(\"pointerup\", this._onPointerUp, true);\n    } else {\n      globalThis.document.removeEventListener(\"mousemove\", this._onPointerMove, true);\n      this.domElement.removeEventListener(\"mousedown\", this._onPointerDown, true);\n      this.domElement.removeEventListener(\"mouseout\", this._onPointerOverOut, true);\n      this.domElement.removeEventListener(\"mouseover\", this._onPointerOverOut, true);\n      globalThis.removeEventListener(\"mouseup\", this._onPointerUp, true);\n      if (this.supportsTouchEvents) {\n        this.domElement.removeEventListener(\"touchstart\", this._onPointerDown, true);\n        this.domElement.removeEventListener(\"touchend\", this._onPointerUp, true);\n        this.domElement.removeEventListener(\"touchmove\", this._onPointerMove, true);\n      }\n    }\n    this.domElement.removeEventListener(\"wheel\", this.onWheel, true);\n    this.domElement = null;\n    this._eventsAdded = false;\n  }\n  /**\n   * Maps coordinates from DOM/screen space into PixiJS normalized coordinates.\n   * This takes into account the current scale, position, and resolution of the DOM element.\n   * @param point - The point to store the mapped coordinates in\n   * @param x - The x coordinate in DOM/client space\n   * @param y - The y coordinate in DOM/client space\n   * @example\n   * ```ts\n   * // Map mouse coordinates to PixiJS space\n   * const point = new Point();\n   * app.renderer.events.mapPositionToPoint(\n   *     point,\n   *     event.clientX,\n   *     event.clientY\n   * );\n   * console.log('Mapped position:', point.x, point.y);\n   *\n   * // Using with pointer events\n   * sprite.on('pointermove', (event) => {\n   *     // event.global already contains mapped coordinates\n   *     console.log('Global:', event.global.x, event.global.y);\n   *\n   *     // Map to local coordinates\n   *     const local = event.getLocalPosition(sprite);\n   *     console.log('Local:', local.x, local.y);\n   * });\n   * ```\n   * @remarks\n   * - Accounts for element scaling and positioning\n   * - Adjusts for device pixel ratio/resolution\n   */\n  mapPositionToPoint(point, x, y) {\n    const rect = this.domElement.isConnected ? this.domElement.getBoundingClientRect() : {\n      x: 0,\n      y: 0,\n      width: this.domElement.width,\n      height: this.domElement.height,\n      left: 0,\n      top: 0\n    };\n    const resolutionMultiplier = 1 / this.resolution;\n    point.x = (x - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;\n    point.y = (y - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;\n  }\n  /**\n   * Ensures that the original event object contains all data that a regular pointer event would have\n   * @param event - The original event data from a touch or mouse event\n   * @returns An array containing a single normalized pointer event, in the case of a pointer\n   *  or mouse event, or a multiple normalized pointer events if there are multiple changed touches\n   */\n  _normalizeToPointerData(event) {\n    const normalizedEvents = [];\n    if (this.supportsTouchEvents && event instanceof TouchEvent) {\n      for (let i = 0, li = event.changedTouches.length; i < li; i++) {\n        const touch = event.changedTouches[i];\n        if (typeof touch.button === \"undefined\")\n          touch.button = 0;\n        if (typeof touch.buttons === \"undefined\")\n          touch.buttons = 1;\n        if (typeof touch.isPrimary === \"undefined\") {\n          touch.isPrimary = event.touches.length === 1 && event.type === \"touchstart\";\n        }\n        if (typeof touch.width === \"undefined\")\n          touch.width = touch.radiusX || 1;\n        if (typeof touch.height === \"undefined\")\n          touch.height = touch.radiusY || 1;\n        if (typeof touch.tiltX === \"undefined\")\n          touch.tiltX = 0;\n        if (typeof touch.tiltY === \"undefined\")\n          touch.tiltY = 0;\n        if (typeof touch.pointerType === \"undefined\")\n          touch.pointerType = \"touch\";\n        if (typeof touch.pointerId === \"undefined\")\n          touch.pointerId = touch.identifier || 0;\n        if (typeof touch.pressure === \"undefined\")\n          touch.pressure = touch.force || 0.5;\n        if (typeof touch.twist === \"undefined\")\n          touch.twist = 0;\n        if (typeof touch.tangentialPressure === \"undefined\")\n          touch.tangentialPressure = 0;\n        if (typeof touch.layerX === \"undefined\")\n          touch.layerX = touch.offsetX = touch.clientX;\n        if (typeof touch.layerY === \"undefined\")\n          touch.layerY = touch.offsetY = touch.clientY;\n        touch.isNormalized = true;\n        touch.type = event.type;\n        normalizedEvents.push(touch);\n      }\n    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {\n      const tempEvent = event;\n      if (typeof tempEvent.isPrimary === \"undefined\")\n        tempEvent.isPrimary = true;\n      if (typeof tempEvent.width === \"undefined\")\n        tempEvent.width = 1;\n      if (typeof tempEvent.height === \"undefined\")\n        tempEvent.height = 1;\n      if (typeof tempEvent.tiltX === \"undefined\")\n        tempEvent.tiltX = 0;\n      if (typeof tempEvent.tiltY === \"undefined\")\n        tempEvent.tiltY = 0;\n      if (typeof tempEvent.pointerType === \"undefined\")\n        tempEvent.pointerType = \"mouse\";\n      if (typeof tempEvent.pointerId === \"undefined\")\n        tempEvent.pointerId = MOUSE_POINTER_ID;\n      if (typeof tempEvent.pressure === \"undefined\")\n        tempEvent.pressure = 0.5;\n      if (typeof tempEvent.twist === \"undefined\")\n        tempEvent.twist = 0;\n      if (typeof tempEvent.tangentialPressure === \"undefined\")\n        tempEvent.tangentialPressure = 0;\n      tempEvent.isNormalized = true;\n      normalizedEvents.push(tempEvent);\n    } else {\n      normalizedEvents.push(event);\n    }\n    return normalizedEvents;\n  }\n  /**\n   * Normalizes the native {@link https://w3c.github.io/uievents/#interface-wheelevent WheelEvent}.\n   *\n   * The returned {@link FederatedWheelEvent} is a shared instance. It will not persist across\n   * multiple native wheel events.\n   * @param nativeEvent - The native wheel event that occurred on the canvas.\n   * @returns A federated wheel event.\n   */\n  normalizeWheelEvent(nativeEvent) {\n    const event = this._rootWheelEvent;\n    this._transferMouseData(event, nativeEvent);\n    event.deltaX = nativeEvent.deltaX;\n    event.deltaY = nativeEvent.deltaY;\n    event.deltaZ = nativeEvent.deltaZ;\n    event.deltaMode = nativeEvent.deltaMode;\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.nativeEvent = nativeEvent;\n    event.type = nativeEvent.type;\n    return event;\n  }\n  /**\n   * Normalizes the `nativeEvent` into a federateed {@link FederatedPointerEvent}.\n   * @param event\n   * @param nativeEvent\n   */\n  _bootstrapEvent(event, nativeEvent) {\n    event.originalEvent = null;\n    event.nativeEvent = nativeEvent;\n    event.pointerId = nativeEvent.pointerId;\n    event.width = nativeEvent.width;\n    event.height = nativeEvent.height;\n    event.isPrimary = nativeEvent.isPrimary;\n    event.pointerType = nativeEvent.pointerType;\n    event.pressure = nativeEvent.pressure;\n    event.tangentialPressure = nativeEvent.tangentialPressure;\n    event.tiltX = nativeEvent.tiltX;\n    event.tiltY = nativeEvent.tiltY;\n    event.twist = nativeEvent.twist;\n    this._transferMouseData(event, nativeEvent);\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.isTrusted = nativeEvent.isTrusted;\n    if (event.type === \"pointerleave\") {\n      event.type = \"pointerout\";\n    }\n    if (event.type.startsWith(\"mouse\")) {\n      event.type = event.type.replace(\"mouse\", \"pointer\");\n    }\n    if (event.type.startsWith(\"touch\")) {\n      event.type = TOUCH_TO_POINTER[event.type] || event.type;\n    }\n    return event;\n  }\n  /**\n   * Transfers base & mouse event data from the `nativeEvent` to the federated event.\n   * @param event\n   * @param nativeEvent\n   */\n  _transferMouseData(event, nativeEvent) {\n    event.isTrusted = nativeEvent.isTrusted;\n    event.srcElement = nativeEvent.srcElement;\n    event.timeStamp = performance.now();\n    event.type = nativeEvent.type;\n    event.altKey = nativeEvent.altKey;\n    event.button = nativeEvent.button;\n    event.buttons = nativeEvent.buttons;\n    event.client.x = nativeEvent.clientX;\n    event.client.y = nativeEvent.clientY;\n    event.ctrlKey = nativeEvent.ctrlKey;\n    event.metaKey = nativeEvent.metaKey;\n    event.movement.x = nativeEvent.movementX;\n    event.movement.y = nativeEvent.movementY;\n    event.page.x = nativeEvent.pageX;\n    event.page.y = nativeEvent.pageY;\n    event.relatedTarget = null;\n    event.shiftKey = nativeEvent.shiftKey;\n  }\n};\n/** @ignore */\n_EventSystem.extension = {\n  name: \"events\",\n  type: [\n    ExtensionType.WebGLSystem,\n    ExtensionType.CanvasSystem,\n    ExtensionType.WebGPUSystem\n  ],\n  priority: -1\n};\n/**\n * The event features that are enabled by the EventSystem\n * @since 7.2.0\n * @example\n * ```ts\n * import { EventSystem, EventSystemFeatures } from 'pixi.js';\n * // Access the default event features\n * EventSystem.defaultEventFeatures = {\n *     // Enable pointer movement events\n *     move: true,\n *     // Enable global pointer move events\n *     globalMove: true,\n *     // Enable click events\n *     click: true,\n *     // Enable wheel events\n *     wheel: true,\n * };\n * ```\n */\n_EventSystem.defaultEventFeatures = {\n  /** Enables pointer events associated with pointer movement. */\n  move: true,\n  /** Enables global pointer move events. */\n  globalMove: true,\n  /** Enables pointer events associated with clicking. */\n  click: true,\n  /** Enables wheel events. */\n  wheel: true\n};\nlet EventSystem = _EventSystem;\n\nexport { EventSystem };\n//# sourceMappingURL=EventSystem.mjs.map\n","import { EventSystem } from './EventSystem.mjs';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\n\"use strict\";\nconst FederatedContainer = {\n  onclick: null,\n  onmousedown: null,\n  onmouseenter: null,\n  onmouseleave: null,\n  onmousemove: null,\n  onglobalmousemove: null,\n  onmouseout: null,\n  onmouseover: null,\n  onmouseup: null,\n  onmouseupoutside: null,\n  onpointercancel: null,\n  onpointerdown: null,\n  onpointerenter: null,\n  onpointerleave: null,\n  onpointermove: null,\n  onglobalpointermove: null,\n  onpointerout: null,\n  onpointerover: null,\n  onpointertap: null,\n  onpointerup: null,\n  onpointerupoutside: null,\n  onrightclick: null,\n  onrightdown: null,\n  onrightup: null,\n  onrightupoutside: null,\n  ontap: null,\n  ontouchcancel: null,\n  ontouchend: null,\n  ontouchendoutside: null,\n  ontouchmove: null,\n  onglobaltouchmove: null,\n  ontouchstart: null,\n  onwheel: null,\n  get interactive() {\n    return this.eventMode === \"dynamic\" || this.eventMode === \"static\";\n  },\n  set interactive(value) {\n    this.eventMode = value ? \"static\" : \"passive\";\n  },\n  _internalEventMode: void 0,\n  get eventMode() {\n    return this._internalEventMode ?? EventSystem.defaultEventMode;\n  },\n  set eventMode(value) {\n    this._internalEventMode = value;\n  },\n  isInteractive() {\n    return this.eventMode === \"static\" || this.eventMode === \"dynamic\";\n  },\n  interactiveChildren: true,\n  hitArea: null,\n  addEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const signal = typeof options === \"object\" ? options.signal : void 0;\n    const once = typeof options === \"object\" ? options.once === true : false;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    const listenerFn = typeof listener === \"function\" ? listener : listener.handleEvent;\n    const emitter = this;\n    if (signal) {\n      signal.addEventListener(\"abort\", () => {\n        emitter.off(type, listenerFn, context);\n      });\n    }\n    if (once) {\n      emitter.once(type, listenerFn, context);\n    } else {\n      emitter.on(type, listenerFn, context);\n    }\n  },\n  removeEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    listener = typeof listener === \"function\" ? listener : listener.handleEvent;\n    this.off(type, listener, context);\n  },\n  dispatchEvent(e) {\n    if (!(e instanceof FederatedEvent)) {\n      throw new Error(\"Container cannot propagate events outside of the Federated Events API\");\n    }\n    e.defaultPrevented = false;\n    e.path = null;\n    e.target = this;\n    e.manager.dispatchEvent(e);\n    return !e.defaultPrevented;\n  }\n};\n\nexport { FederatedContainer };\n//# sourceMappingURL=FederatedEventTarget.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { Container } from '../scene/container/Container.mjs';\nimport { EventSystem } from './EventSystem.mjs';\nimport { FederatedContainer } from './FederatedEventTarget.mjs';\n\n\"use strict\";\nextensions.add(EventSystem);\nextensions.mixin(Container, FederatedContainer);\n//# sourceMappingURL=init.mjs.map\n","import { ExtensionType } from '../extensions/Extensions.mjs';\nimport { CanvasObserver } from './CanvasObserver.mjs';\n\n\"use strict\";\nclass DOMPipe {\n  /**\n   * Constructor for the DOMPipe class.\n   * @param renderer - The renderer instance that this DOMPipe will be associated with.\n   */\n  constructor(renderer) {\n    /** Array to keep track of attached DOM elements */\n    this._attachedDomElements = [];\n    this._renderer = renderer;\n    this._renderer.runners.postrender.add(this);\n    this._renderer.runners.init.add(this);\n    this._domElement = document.createElement(\"div\");\n    this._domElement.style.position = \"absolute\";\n    this._domElement.style.top = \"0\";\n    this._domElement.style.left = \"0\";\n    this._domElement.style.pointerEvents = \"none\";\n    this._domElement.style.zIndex = \"1000\";\n  }\n  /** Initializes the DOMPipe, setting up the main DOM element and adding it to the document body. */\n  init() {\n    this._canvasObserver = new CanvasObserver({\n      domElement: this._domElement,\n      renderer: this._renderer\n    });\n  }\n  /**\n   * Adds a renderable DOM container to the list of attached elements.\n   * @param domContainer - The DOM container to be added.\n   * @param _instructionSet - The instruction set (unused).\n   */\n  addRenderable(domContainer, _instructionSet) {\n    if (!this._attachedDomElements.includes(domContainer)) {\n      this._attachedDomElements.push(domContainer);\n    }\n  }\n  /**\n   * Updates a renderable DOM container.\n   * @param _domContainer - The DOM container to be updated (unused).\n   */\n  updateRenderable(_domContainer) {\n  }\n  /**\n   * Validates a renderable DOM container.\n   * @param _domContainer - The DOM container to be validated (unused).\n   * @returns Always returns true as validation is not required.\n   */\n  validateRenderable(_domContainer) {\n    return true;\n  }\n  /** Handles the post-rendering process, ensuring DOM elements are correctly positioned and visible. */\n  postrender() {\n    const attachedDomElements = this._attachedDomElements;\n    if (attachedDomElements.length === 0) {\n      this._domElement.remove();\n      return;\n    }\n    this._canvasObserver.ensureAttached();\n    for (let i = 0; i < attachedDomElements.length; i++) {\n      const domContainer = attachedDomElements[i];\n      const element = domContainer.element;\n      if (!domContainer.parent || domContainer.globalDisplayStatus < 7) {\n        element?.remove();\n        attachedDomElements.splice(i, 1);\n        i--;\n      } else {\n        if (!this._domElement.contains(element)) {\n          element.style.position = \"absolute\";\n          element.style.pointerEvents = \"auto\";\n          this._domElement.appendChild(element);\n        }\n        const wt = domContainer.worldTransform;\n        const anchor = domContainer._anchor;\n        const ax = domContainer.width * anchor.x;\n        const ay = domContainer.height * anchor.y;\n        element.style.transformOrigin = `${ax}px ${ay}px`;\n        element.style.transform = `matrix(${wt.a}, ${wt.b}, ${wt.c}, ${wt.d}, ${wt.tx - ax}, ${wt.ty - ay})`;\n        element.style.opacity = domContainer.groupAlpha.toString();\n      }\n    }\n  }\n  /** Destroys the DOMPipe, removing all attached DOM elements and cleaning up resources. */\n  destroy() {\n    this._renderer.runners.postrender.remove(this);\n    for (let i = 0; i < this._attachedDomElements.length; i++) {\n      const domContainer = this._attachedDomElements[i];\n      domContainer.element?.remove();\n    }\n    this._attachedDomElements.length = 0;\n    this._domElement.remove();\n    this._canvasObserver.destroy();\n    this._renderer = null;\n  }\n}\n/**\n * Static property defining the extension type and name for the DOMPipe.\n * This is used to register the DOMPipe with different rendering pipelines.\n */\nDOMPipe.extension = {\n  type: [\n    ExtensionType.WebGLPipes,\n    ExtensionType.WebGPUPipes,\n    ExtensionType.CanvasPipes\n  ],\n  name: \"dom\"\n};\n\nexport { DOMPipe };\n//# sourceMappingURL=DOMPipe.mjs.map\n","import { extensions } from '../extensions/Extensions.mjs';\nimport { DOMPipe } from './DOMPipe.mjs';\nimport './index.mjs';\nexport { CanvasObserver } from './CanvasObserver.mjs';\nexport { DOMContainer } from './DOMContainer.mjs';\n\n\"use strict\";\nextensions.add(DOMPipe);\n\nexport { DOMPipe };\n//# sourceMappingURL=init.mjs.map\n"],"names":["CanvasObserver","constructor","options","this","_lastTransform","_observer","_tickerAttached","updateTranslation","_canvas","rect","getBoundingClientRect","contentWidth","width","contentHeight","height","sx","_renderer","resolution","sy","newTransform","left","top","_domElement","style","transform","domElement","renderer","globalThis","OffscreenCanvas","canvas","_attachObserver","ensureAttached","parentNode","appendChild","disconnect","ResizeObserver","entries","entry","target","contentRect","_lastScaleX","_lastScaleY","observe","Ticker","shared","add","HIGH","destroy","remove","FederatedEvent","manager","bubbles","cancelBubble","cancelable","composed","defaultPrevented","eventPhase","prototype","NONE","propagationStopped","propagationImmediatelyStopped","layer","Point","page","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","layerX","x","layerY","y","pageX","pageY","data","composedPath","path","length","propagationPath","initEvent","_type","_bubbles","_cancelable","Error","initUIEvent","_typeArg","_bubblesArg","_cancelableArg","_viewArg","_detailArg","preventDefault","nativeEvent","Event","stopImmediatePropagation","stopPropagation","_AccessibilitySystem","_mobileInfo","isMobile","debug","_activateOnTab","_deactivateOnMouseMove","_isActive","_isMobileAccessibility","_div","_pools","_renderId","_children","_androidUpdateCount","_androidUpdateFrequency","_isRunningTests","_boundOnKeyDown","_onKeyDown","bind","_boundOnMouseMove","_onMouseMove","_hookDiv","tablet","phone","_createTouchHook","isActive","isMobileAccessibility","hookDiv","div","document","createElement","position","zIndex","toString","backgroundColor","title","addEventListener","_activate","_destroyTouchHook","body","removeChild","pointerEvents","_canvasObserver","view","_initAccessibilitySetup","observer","MutationObserver","childList","subtree","runners","postrender","lastObjectRendered","_updateAccessibleObjects","_deactivate","removeEventListener","child","_accessibleDiv","_accessibleActive","accessibleType","forEach","container","visible","accessibleChildren","accessible","_addChild","children","i","init","mergedOptions","accessibilityOptions","defaultOptions","activateOnTab","deactivateOnMouseMove","enabledByDefault","now","performance","android","device","renderingToScreen","activeIds","Set","indexOf","has","_getPool","push","removeItems","hitArea","getBounds","rectangle","wt","worldTransform","tx","a","ty","d","_capHitArea","_updateDebugHTML","innerHTML","type","tabIndex","viewWidth","viewHeight","pop","removeAttribute","cssText","accessibleText","innerText","borderStyle","navigator","userAgent","toLowerCase","includes","setAttribute","match","_onClick","_onFocus","_onFocusOut","accessiblePointerEvents","accessibleTitle","accessibleHint","interactive","_dispatchEvent","e","boundary","events","rootBoundary","event","Object","assign","rootTarget","type2","dispatchEvent","getAttribute","keyCode","movementX","movementY","setAccessibilityEnabled","enabled","extension","WebGLSystem","WebGPUSystem","name","AccessibilitySystem","mixin","Container","EventsTicker","interactionFrequency","_deltaTime","_didMove","_tickerAdded","_pauseUpdate","removeTickerListener","pauseUpdate","paused","addTickerListener","system","_tickerUpdate","INTERACTION","pointerMoved","_update","rootPointerEvent","supportsTouchEvents","pointerType","supportsPointerEvents","PointerEvent","clientX","clientY","pointerId","MouseEvent","ticker","deltaTime","FederatedMouseEvent","super","arguments","client","movement","offset","global","screen","offsetX","offsetY","globalX","globalY","screenX","screenY","getLocalPosition","point","globalPos","applyInverse","getModifierState","key","initMouseEvent","_canBubbleArg","_screenXArg","_screenYArg","_clientXArg","_clientYArg","_ctrlKeyArg","_altKeyArg","_shiftKeyArg","_metaKeyArg","_buttonArg","_relatedTargetArg","FederatedPointerEvent","isPrimary","getCoalescedEvents","getPredictedEvents","FederatedWheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","tempHitLocation","tempLocalMapping","EventBoundary","dispatch","moveOnAll","enableGlobalMoveEvents","mappingState","trackingData","eventPool","Map","_allInteractiveElements","_hitElements","_isPointerMoveEvent","hitPruneFn","hitTestFn","mapPointerDown","mapPointerMove","mapPointerOut","mapPointerOver","mapPointerUp","mapPointerUpOutside","mapWheel","mappingTable","addEventMapping","fn","priority","sort","b","propagate","emit","mapEvent","mappers","j","warn","hitTest","invertedPath","eventMode","set","currentTarget","notifyTarget","all","targets","Array","isArray","parent","reverse","hitTestMoveRecursive","location","testFn","pruneFn","ignore","shouldReturn","_interactivePrune","interactiveChildren","nestedHit","_isInteractive","isInteractive","isInteractiveMode","isInteractiveTarget","hitTestRecursive","relativeLocation","int","renderable","measurable","contains","effects","effect","containsPoint","handlerKey","_notifyListeners","from","createPointerEvent","isRightButton","button","pressTargetsByButton","freeEvent","isMouse","outTarget","findMountedTarget","overTargets","outType","outEvent","leaveEvent","overType","overEvent","clonePointerEvent","overTargetAncestor","enterEvent","allMethods","allowGlobalPointerEvents","splice","cursor","pressTarget","clickTarget","clickEvent","clicksByButton","clickCount","timeStamp","clickHistory","detail","wheelEvent","createWheelEvent","allocateEvent","copyPointerData","copyMouseData","copyData","originalEvent","copyWheelData","slice","to","deltaMode","deltaX","deltaY","deltaZ","pressure","tangentialPressure","tiltX","tiltY","twist","altKey","buttons","copyFrom","ctrlKey","metaKey","shiftKey","isTrusted","srcElement","which","id","overTarget","get","listeners","_events","once","removeListener","call","context","TOUCH_TO_POINTER","touchstart","touchend","touchendoutside","touchmove","touchcancel","_EventSystem","autoPreventDefault","_eventsAdded","_rootPointerEvent","_rootWheelEvent","cursorStyles","default","pointer","features","Proxy","defaultEventFeatures","value","_onPointerDown","_onPointerMove","_onPointerUp","_onPointerOverOut","onWheel","defaultEventMode","_defaultEventMode","setTargetElement","eventFeatures","globalMove","resolutionChange","_currentCursor","setCursor","mode","applyStyles","hasOwnProperty","click","_normalizeToPointerData","isNormalized","nativeEvent2","federatedEvent","_bootstrapEvent","move","normalizedEvents","outside","wheel","normalizeWheelEvent","element","_removeEvents","_addEvents","msPointerEnabled","msContentZooming","msTouchAction","touchAction","passive","capture","mapPositionToPoint","isConnected","resolutionMultiplier","TouchEvent","li","changedTouches","touch","touches","radiusX","radiusY","identifier","force","tempEvent","_transferMouseData","startsWith","replace","relatedTarget","CanvasSystem","EventSystem","FederatedContainer","onclick","onmousedown","onmouseenter","onmouseleave","onmousemove","onglobalmousemove","onmouseout","onmouseover","onmouseup","onmouseupoutside","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onglobalpointermove","onpointerout","onpointerover","onpointertap","onpointerup","onpointerupoutside","onrightclick","onrightdown","onrightup","onrightupoutside","ontap","ontouchcancel","ontouchend","ontouchendoutside","ontouchmove","onglobaltouchmove","ontouchstart","onwheel","_internalEventMode","listener","signal","listenerFn","handleEvent","emitter","off","on","DOMPipe","_attachedDomElements","addRenderable","domContainer","_instructionSet","updateRenderable","_domContainer","validateRenderable","attachedDomElements","globalDisplayStatus","anchor","_anchor","ax","ay","transformOrigin","c","opacity","groupAlpha","WebGLPipes","WebGPUPipes","CanvasPipes"],"ignoreList":[],"sourceRoot":""}